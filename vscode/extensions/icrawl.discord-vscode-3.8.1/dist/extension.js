module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=30)}([function(module,exports){module.exports=require("stream")},function(module,exports){module.exports=require("path")},function(module,exports){module.exports=require("fs")},function(module,exports){module.exports=require("zlib")},function(module,exports){module.exports=require("events")},function(module,exports,__webpack_require__){"use strict";module.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(module,exports){module.exports=require("vscode")},function(module,exports){module.exports=require("http")},function(module,exports){module.exports=require("url")},function(module,exports,__webpack_require__){"use strict";const Limiter=__webpack_require__(42),zlib=__webpack_require__(3),bufferUtil=__webpack_require__(13),{kStatusCode,NOOP}=__webpack_require__(5),TRAILER=Buffer.from([0,0,255,255]),EMPTY_BLOCK=Buffer.from([0]),kPerMessageDeflate=Symbol("permessage-deflate"),kTotalLength=Symbol("total-length"),kCallback=Symbol("callback"),kBuffers=Symbol("buffers"),kError=Symbol("error");let zlibLimiter;function deflateOnData(chunk){this[kBuffers].push(chunk),this[kTotalLength]+=chunk.length}function inflateOnData(chunk){this[kTotalLength]+=chunk.length,this[kPerMessageDeflate]._maxPayload<1||this[kTotalLength]<=this[kPerMessageDeflate]._maxPayload?this[kBuffers].push(chunk):(this[kError]=new RangeError("Max payload size exceeded"),this[kError][kStatusCode]=1009,this.removeListener("data",inflateOnData),this.reset())}function inflateOnError(err){this[kPerMessageDeflate]._inflate=null,err[kStatusCode]=1007,this[kCallback](err)}module.exports=class PerMessageDeflate{constructor(options,isServer,maxPayload){if(this._maxPayload=0|maxPayload,this._options=options||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!isServer,this._deflate=null,this._inflate=null,this.params=null,!zlibLimiter){const concurrency=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;zlibLimiter=new Limiter({concurrency})}}static get extensionName(){return"permessage-deflate"}offer(){const params={};return this._options.serverNoContextTakeover&&(params.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(params.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(params.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?params.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(params.client_max_window_bits=!0),params}accept(configurations){return configurations=this.normalizeParams(configurations),this.params=this._isServer?this.acceptAsServer(configurations):this.acceptAsClient(configurations),this.params}cleanup(){this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate&&(this._deflate.close(),this._deflate=null)}acceptAsServer(offers){const opts=this._options,accepted=offers.find(params=>!(!1===opts.serverNoContextTakeover&&params.server_no_context_takeover||params.server_max_window_bits&&(!1===opts.serverMaxWindowBits||"number"==typeof opts.serverMaxWindowBits&&opts.serverMaxWindowBits>params.server_max_window_bits)||"number"==typeof opts.clientMaxWindowBits&&!params.client_max_window_bits));if(!accepted)throw new Error("None of the extension offers can be accepted");return opts.serverNoContextTakeover&&(accepted.server_no_context_takeover=!0),opts.clientNoContextTakeover&&(accepted.client_no_context_takeover=!0),"number"==typeof opts.serverMaxWindowBits&&(accepted.server_max_window_bits=opts.serverMaxWindowBits),"number"==typeof opts.clientMaxWindowBits?accepted.client_max_window_bits=opts.clientMaxWindowBits:!0!==accepted.client_max_window_bits&&!1!==opts.clientMaxWindowBits||delete accepted.client_max_window_bits,accepted}acceptAsClient(response){const params=response[0];if(!1===this._options.clientNoContextTakeover&&params.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(params.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&params.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(params.client_max_window_bits=this._options.clientMaxWindowBits);return params}normalizeParams(configurations){return configurations.forEach(params=>{Object.keys(params).forEach(key=>{var value=params[key];if(value.length>1)throw new Error(`Parameter "${key}" must have only a single value`);if(value=value[0],"client_max_window_bits"===key){if(!0!==value){const num=+value;if(!Number.isInteger(num)||num<8||num>15)throw new TypeError(`Invalid value for parameter "${key}": ${value}`);value=num}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${key}": ${value}`)}else if("server_max_window_bits"===key){const num=+value;if(!Number.isInteger(num)||num<8||num>15)throw new TypeError(`Invalid value for parameter "${key}": ${value}`);value=num}else{if("client_no_context_takeover"!==key&&"server_no_context_takeover"!==key)throw new Error(`Unknown parameter "${key}"`);if(!0!==value)throw new TypeError(`Invalid value for parameter "${key}": ${value}`)}params[key]=value})}),configurations}decompress(data,fin,callback){zlibLimiter.push(done=>{this._decompress(data,fin,(err,result)=>{done(),callback(err,result)})})}compress(data,fin,callback){zlibLimiter.push(done=>{this._compress(data,fin,(err,result)=>{done(),callback(err,result)})})}_decompress(data,fin,callback){const endpoint=this._isServer?"client":"server";if(!this._inflate){const key=`${endpoint}_max_window_bits`,windowBits="number"!=typeof this.params[key]?zlib.Z_DEFAULT_WINDOWBITS:this.params[key];this._inflate=zlib.createInflateRaw(Object.assign({},this._options.zlibInflateOptions,{windowBits})),this._inflate[kPerMessageDeflate]=this,this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[],this._inflate.on("error",inflateOnError),this._inflate.on("data",inflateOnData)}this._inflate[kCallback]=callback,this._inflate.write(data),fin&&this._inflate.write(TRAILER),this._inflate.flush(()=>{const err=this._inflate[kError];if(err)return this._inflate.close(),this._inflate=null,void callback(err);const data=bufferUtil.concat(this._inflate[kBuffers],this._inflate[kTotalLength]);fin&&this.params[`${endpoint}_no_context_takeover`]?(this._inflate.close(),this._inflate=null):(this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[]),callback(null,data)})}_compress(data,fin,callback){if(!data||0===data.length)return void process.nextTick(callback,null,EMPTY_BLOCK);const endpoint=this._isServer?"server":"client";if(!this._deflate){const key=`${endpoint}_max_window_bits`,windowBits="number"!=typeof this.params[key]?zlib.Z_DEFAULT_WINDOWBITS:this.params[key];this._deflate=zlib.createDeflateRaw(Object.assign({},this._options.zlibDeflateOptions,{windowBits})),this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[],this._deflate.on("error",NOOP),this._deflate.on("data",deflateOnData)}this._deflate.write(data),this._deflate.flush(zlib.Z_SYNC_FLUSH,()=>{if(this._deflate){var data=bufferUtil.concat(this._deflate[kBuffers],this._deflate[kTotalLength]);fin&&(data=data.slice(0,data.length-4)),fin&&this.params[`${endpoint}_no_context_takeover`]?(this._deflate.close(),this._deflate=null):(this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[]),callback(null,data)}})}}},function(module,exports,__webpack_require__){"use strict";const path=__webpack_require__(1),childProcess=__webpack_require__(14),crossSpawn=__webpack_require__(55),stripEof=__webpack_require__(69),npmRunPath=__webpack_require__(70),isStream=__webpack_require__(71),_getStream=__webpack_require__(72),pFinally=__webpack_require__(77),onExit=__webpack_require__(78),errname=__webpack_require__(81),stdio=__webpack_require__(83),TEN_MEGABYTES=1e7;function handleArgs(cmd,args,opts){let parsed;return(opts=Object.assign({extendEnv:!0,env:{}},opts)).extendEnv&&(opts.env=Object.assign({},process.env,opts.env)),!0===opts.__winShell?(delete opts.__winShell,parsed={command:cmd,args,options:opts,file:cmd,original:{cmd,args}}):parsed=crossSpawn._parse(cmd,args,opts),(opts=Object.assign({maxBuffer:TEN_MEGABYTES,buffer:!0,stripEof:!0,preferLocal:!0,localDir:parsed.options.cwd||process.cwd(),encoding:"utf8",reject:!0,cleanup:!0},parsed.options)).stdio=stdio(opts),opts.preferLocal&&(opts.env=npmRunPath.env(Object.assign({},opts,{cwd:opts.localDir}))),opts.detached&&(opts.cleanup=!1),"win32"===process.platform&&"cmd.exe"===path.basename(parsed.command)&&parsed.args.unshift("/q"),{cmd:parsed.command,args:parsed.args,opts,parsed}}function handleOutput(opts,val){return val&&opts.stripEof&&(val=stripEof(val)),val}function handleShell(fn,cmd,opts){let file="/bin/sh",args=["-c",cmd];return opts=Object.assign({},opts),"win32"===process.platform&&(opts.__winShell=!0,file=process.env.comspec||"cmd.exe",args=["/s","/c",`"${cmd}"`],opts.windowsVerbatimArguments=!0),opts.shell&&(file=opts.shell,delete opts.shell),fn(file,args,opts)}function getStream(process,stream,{encoding,buffer,maxBuffer}){if(!process[stream])return null;let ret;return(ret=buffer?encoding?_getStream(process[stream],{encoding,maxBuffer}):_getStream.buffer(process[stream],{maxBuffer}):new Promise((resolve,reject)=>{process[stream].once("end",resolve).once("error",reject)})).catch(err=>{throw err.stream=stream,err.message=`${stream} ${err.message}`,err})}function makeError(result,options){const{stdout,stderr}=result;let err=result.error;const{code,signal}=result,{parsed,joinedCmd}=options,timedOut=options.timedOut||!1;if(!err){let output="";Array.isArray(parsed.opts.stdio)?("inherit"!==parsed.opts.stdio[2]&&(output+=output.length>0?stderr:`\n${stderr}`),"inherit"!==parsed.opts.stdio[1]&&(output+=`\n${stdout}`)):"inherit"!==parsed.opts.stdio&&(output=`\n${stderr}${stdout}`),(err=new Error(`Command failed: ${joinedCmd}${output}`)).code=code<0?errname(code):code}return err.stdout=stdout,err.stderr=stderr,err.failed=!0,err.signal=signal||null,err.cmd=joinedCmd,err.timedOut=timedOut,err}function joinCmd(cmd,args){let joinedCmd=cmd;return Array.isArray(args)&&args.length>0&&(joinedCmd+=" "+args.join(" ")),joinedCmd}module.exports=(cmd,args,opts)=>{const parsed=handleArgs(cmd,args,opts),{encoding,buffer,maxBuffer}=parsed.opts,joinedCmd=joinCmd(cmd,args);let spawned,removeExitHandler;try{spawned=childProcess.spawn(parsed.cmd,parsed.args,parsed.opts)}catch(err){return Promise.reject(err)}parsed.opts.cleanup&&(removeExitHandler=onExit(()=>{spawned.kill()}));let timeoutId=null,timedOut=!1;const cleanup=()=>{timeoutId&&(clearTimeout(timeoutId),timeoutId=null),removeExitHandler&&removeExitHandler()};parsed.opts.timeout>0&&(timeoutId=setTimeout(()=>{timeoutId=null,timedOut=!0,spawned.kill(parsed.opts.killSignal)},parsed.opts.timeout));const processDone=new Promise(resolve=>{spawned.on("exit",(code,signal)=>{cleanup(),resolve({code,signal})}),spawned.on("error",err=>{cleanup(),resolve({error:err})}),spawned.stdin&&spawned.stdin.on("error",err=>{cleanup(),resolve({error:err})})});function destroy(){spawned.stdout&&spawned.stdout.destroy(),spawned.stderr&&spawned.stderr.destroy()}const handlePromise=()=>pFinally(Promise.all([processDone,getStream(spawned,"stdout",{encoding,buffer,maxBuffer}),getStream(spawned,"stderr",{encoding,buffer,maxBuffer})]).then(arr=>{const result=arr[0];if(result.stdout=arr[1],result.stderr=arr[2],result.error||0!==result.code||null!==result.signal){const err=makeError(result,{joinedCmd,parsed,timedOut});if(err.killed=err.killed||spawned.killed,!parsed.opts.reject)return err;throw err}return{stdout:handleOutput(parsed.opts,result.stdout),stderr:handleOutput(parsed.opts,result.stderr),code:0,failed:!1,killed:!1,signal:null,cmd:joinedCmd,timedOut:!1}}),destroy);return crossSpawn._enoent.hookChildProcess(spawned,parsed.parsed),function handleInput(spawned,input){null!=input&&(isStream(input)?input.pipe(spawned.stdin):spawned.stdin.end(input))}(spawned,parsed.opts.input),spawned.then=(onfulfilled,onrejected)=>handlePromise().then(onfulfilled,onrejected),spawned.catch=onrejected=>handlePromise().catch(onrejected),spawned},module.exports.stdout=(...args)=>module.exports(...args).then(x=>x.stdout),module.exports.stderr=(...args)=>module.exports(...args).then(x=>x.stderr),module.exports.shell=(cmd,opts)=>handleShell(module.exports,cmd,opts),module.exports.sync=(cmd,args,opts)=>{const parsed=handleArgs(cmd,args,opts),joinedCmd=joinCmd(cmd,args);if(isStream(parsed.opts.input))throw new TypeError("The `input` option cannot be a stream in sync mode");const result=childProcess.spawnSync(parsed.cmd,parsed.args,parsed.opts);if(result.code=result.status,result.error||0!==result.status||null!==result.signal){const err=makeError(result,{joinedCmd,parsed});if(!parsed.opts.reject)return err;throw err}return{stdout:handleOutput(parsed.opts,result.stdout),stderr:handleOutput(parsed.opts,result.stderr),code:0,failed:!1,signal:null,cmd:joinedCmd,timedOut:!1}},module.exports.shellSync=(cmd,opts)=>handleShell(module.exports.sync,cmd,opts)},function(module,exports,__webpack_require__){"use strict";let register;try{const{app}=__webpack_require__(!function webpackMissingModule(){var e=new Error("Cannot find module 'electron'");throw e.code="MODULE_NOT_FOUND",e}());register=app.setAsDefaultProtocolClient.bind(app)}catch(err){try{register=__webpack_require__(32)}catch(e){}}"function"!=typeof register&&(register=()=>!1);module.exports={pid:function pid(){return"undefined"!=typeof process?process.pid:null},register,uuid:()=>{let uuid="";for(let i=0;i<32;i+=1){let n;if(8!==i&&12!==i&&16!==i&&20!==i||(uuid+="-"),12===i)n=4;else{const random=16*Math.random()|0;n=16===i?3&random|0:random}uuid+=n.toString(16)}return uuid}}},function(module,exports){module.exports=require("crypto")},function(module,exports,__webpack_require__){"use strict";const{EMPTY_BUFFER}=__webpack_require__(5);function concat(list,totalLength){if(0===list.length)return EMPTY_BUFFER;if(1===list.length)return list[0];const target=Buffer.allocUnsafe(totalLength);for(var offset=0,i=0;i<list.length;i++){const buf=list[i];buf.copy(target,offset),offset+=buf.length}return target}function _mask(source,mask,output,offset,length){for(var i=0;i<length;i++)output[offset+i]=source[i]^mask[3&i]}function _unmask(buffer,mask){const length=buffer.length;for(var i=0;i<length;i++)buffer[i]^=mask[3&i]}function toArrayBuffer(buf){return buf.byteLength===buf.buffer.byteLength?buf.buffer:buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)}function toBuffer(data){return toBuffer.readOnly=!0,Buffer.isBuffer(data)?data:(data instanceof ArrayBuffer?buf=Buffer.from(data):ArrayBuffer.isView(data)?buf=function viewToBuffer(view){const buf=Buffer.from(view.buffer);if(view.byteLength!==view.buffer.byteLength)return buf.slice(view.byteOffset,view.byteOffset+view.byteLength);return buf}(data):(buf=Buffer.from(data),toBuffer.readOnly=!1),buf);var buf}try{const bufferUtil=__webpack_require__(43),bu=bufferUtil.BufferUtil||bufferUtil;module.exports={concat,mask(source,mask,output,offset,length){length<48?_mask(source,mask,output,offset,length):bu.mask(source,mask,output,offset,length)},toArrayBuffer,toBuffer,unmask(buffer,mask){buffer.length<32?_unmask(buffer,mask):bu.unmask(buffer,mask)}}}catch(e){module.exports={concat,mask:_mask,toArrayBuffer,toBuffer,unmask:_unmask}}},function(module,exports){module.exports=require("child_process")},function(module,exports){module.exports=require("https")},function(module,exports,__webpack_require__){"use strict";const util=__webpack_require__(11);module.exports={Client:__webpack_require__(35),register:id=>util.register(`discord-${id}`)}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Headers",function(){return Headers}),__webpack_require__.d(__webpack_exports__,"Request",function(){return Request}),__webpack_require__.d(__webpack_exports__,"Response",function(){return Response}),__webpack_require__.d(__webpack_exports__,"FetchError",function(){return FetchError});var stream__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),http__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),https__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(15),zlib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);const Readable=stream__WEBPACK_IMPORTED_MODULE_0__.Readable,BUFFER=Symbol("buffer"),TYPE=Symbol("type");class Blob{constructor(){this[TYPE]="";const blobParts=arguments[0],options=arguments[1],buffers=[];let size=0;if(blobParts){const a=blobParts,length=Number(a.length);for(let i=0;i<length;i++){const element=a[i];let buffer;size+=(buffer=element instanceof Buffer?element:ArrayBuffer.isView(element)?Buffer.from(element.buffer,element.byteOffset,element.byteLength):element instanceof ArrayBuffer?Buffer.from(element):element instanceof Blob?element[BUFFER]:Buffer.from("string"==typeof element?element:String(element))).length,buffers.push(buffer)}}this[BUFFER]=Buffer.concat(buffers);let type=options&&void 0!==options.type&&String(options.type).toLowerCase();type&&!/[^\u0020-\u007E]/.test(type)&&(this[TYPE]=type)}get size(){return this[BUFFER].length}get type(){return this[TYPE]}text(){return Promise.resolve(this[BUFFER].toString())}arrayBuffer(){const buf=this[BUFFER],ab=buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength);return Promise.resolve(ab)}stream(){const readable=new Readable;return readable._read=function(){},readable.push(this[BUFFER]),readable.push(null),readable}toString(){return"[object Blob]"}slice(){const size=this.size,start=arguments[0],end=arguments[1];let relativeStart,relativeEnd;relativeStart=void 0===start?0:start<0?Math.max(size+start,0):Math.min(start,size),relativeEnd=void 0===end?size:end<0?Math.max(size+end,0):Math.min(end,size);const span=Math.max(relativeEnd-relativeStart,0),slicedBuffer=this[BUFFER].slice(relativeStart,relativeStart+span),blob=new Blob([],{type:arguments[2]});return blob[BUFFER]=slicedBuffer,blob}}function FetchError(message,type,systemError){Error.call(this,message),this.message=message,this.type=type,systemError&&(this.code=this.errno=systemError.code),Error.captureStackTrace(this,this.constructor)}let convert;Object.defineProperties(Blob.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(Blob.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),FetchError.prototype=Object.create(Error.prototype),FetchError.prototype.constructor=FetchError,FetchError.prototype.name="FetchError";try{convert=require("encoding").convert}catch(e){}const INTERNALS=Symbol("Body internals"),PassThrough=stream__WEBPACK_IMPORTED_MODULE_0__.PassThrough;function Body(body){var _this=this,_ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$size=_ref.size;let size=void 0===_ref$size?0:_ref$size;var _ref$timeout=_ref.timeout;let timeout=void 0===_ref$timeout?0:_ref$timeout;null==body?body=null:isURLSearchParams(body)?body=Buffer.from(body.toString()):isBlob(body)||Buffer.isBuffer(body)||("[object ArrayBuffer]"===Object.prototype.toString.call(body)?body=Buffer.from(body):ArrayBuffer.isView(body)?body=Buffer.from(body.buffer,body.byteOffset,body.byteLength):body instanceof stream__WEBPACK_IMPORTED_MODULE_0__||(body=Buffer.from(String(body)))),this[INTERNALS]={body,disturbed:!1,error:null},this.size=size,this.timeout=timeout,body instanceof stream__WEBPACK_IMPORTED_MODULE_0__&&body.on("error",function(err){const error="AbortError"===err.name?err:new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`,"system",err);_this[INTERNALS].error=error})}function consumeBody(){var _this4=this;if(this[INTERNALS].disturbed)return Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[INTERNALS].disturbed=!0,this[INTERNALS].error)return Body.Promise.reject(this[INTERNALS].error);let body=this.body;if(null===body)return Body.Promise.resolve(Buffer.alloc(0));if(isBlob(body)&&(body=body.stream()),Buffer.isBuffer(body))return Body.Promise.resolve(body);if(!(body instanceof stream__WEBPACK_IMPORTED_MODULE_0__))return Body.Promise.resolve(Buffer.alloc(0));let accum=[],accumBytes=0,abort=!1;return new Body.Promise(function(resolve,reject){let resTimeout;_this4.timeout&&(resTimeout=setTimeout(function(){abort=!0,reject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`,"body-timeout"))},_this4.timeout)),body.on("error",function(err){"AbortError"===err.name?(abort=!0,reject(err)):reject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`,"system",err))}),body.on("data",function(chunk){if(!abort&&null!==chunk){if(_this4.size&&accumBytes+chunk.length>_this4.size)return abort=!0,void reject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`,"max-size"));accumBytes+=chunk.length,accum.push(chunk)}}),body.on("end",function(){if(!abort){clearTimeout(resTimeout);try{resolve(Buffer.concat(accum,accumBytes))}catch(err){reject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`,"system",err))}}})})}function isURLSearchParams(obj){return"object"==typeof obj&&"function"==typeof obj.append&&"function"==typeof obj.delete&&"function"==typeof obj.get&&"function"==typeof obj.getAll&&"function"==typeof obj.has&&"function"==typeof obj.set&&("URLSearchParams"===obj.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(obj)||"function"==typeof obj.sort)}function isBlob(obj){return"object"==typeof obj&&"function"==typeof obj.arrayBuffer&&"string"==typeof obj.type&&"function"==typeof obj.stream&&"function"==typeof obj.constructor&&"string"==typeof obj.constructor.name&&/^(Blob|File)$/.test(obj.constructor.name)&&/^(Blob|File)$/.test(obj[Symbol.toStringTag])}function clone(instance){let p1,p2,body=instance.body;if(instance.bodyUsed)throw new Error("cannot clone body after it is used");return body instanceof stream__WEBPACK_IMPORTED_MODULE_0__&&"function"!=typeof body.getBoundary&&(p1=new PassThrough,p2=new PassThrough,body.pipe(p1),body.pipe(p2),instance[INTERNALS].body=p1,body=p2),body}function extractContentType(body){return null===body?null:"string"==typeof body?"text/plain;charset=UTF-8":isURLSearchParams(body)?"application/x-www-form-urlencoded;charset=UTF-8":isBlob(body)?body.type||null:Buffer.isBuffer(body)?null:"[object ArrayBuffer]"===Object.prototype.toString.call(body)?null:ArrayBuffer.isView(body)?null:"function"==typeof body.getBoundary?`multipart/form-data;boundary=${body.getBoundary()}`:body instanceof stream__WEBPACK_IMPORTED_MODULE_0__?null:"text/plain;charset=UTF-8"}function getTotalBytes(instance){const body=instance.body;return null===body?0:isBlob(body)?body.size:Buffer.isBuffer(body)?body.length:body&&"function"==typeof body.getLengthSync&&(body._lengthRetrievers&&0==body._lengthRetrievers.length||body.hasKnownLength&&body.hasKnownLength())?body.getLengthSync():null}Body.prototype={get body(){return this[INTERNALS].body},get bodyUsed(){return this[INTERNALS].disturbed},arrayBuffer(){return consumeBody.call(this).then(function(buf){return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)})},blob(){let ct=this.headers&&this.headers.get("content-type")||"";return consumeBody.call(this).then(function(buf){return Object.assign(new Blob([],{type:ct.toLowerCase()}),{[BUFFER]:buf})})},json(){var _this2=this;return consumeBody.call(this).then(function(buffer){try{return JSON.parse(buffer.toString())}catch(err){return Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`,"invalid-json"))}})},text(){return consumeBody.call(this).then(function(buffer){return buffer.toString()})},buffer(){return consumeBody.call(this)},textConverted(){var _this3=this;return consumeBody.call(this).then(function(buffer){return function convertBody(buffer,headers){if("function"!=typeof convert)throw new Error("The package `encoding` must be installed to use the textConverted() function");const ct=headers.get("content-type");let res,str,charset="utf-8";ct&&(res=/charset=([^;]*)/i.exec(ct));str=buffer.slice(0,1024).toString(),!res&&str&&(res=/<meta.+?charset=(['"])(.+?)\1/i.exec(str));!res&&str&&(res=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(str))&&(res=/charset=(.*)/i.exec(res.pop()));!res&&str&&(res=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(str));res&&("gb2312"!==(charset=res.pop())&&"gbk"!==charset||(charset="gb18030"));return convert(buffer,"UTF-8",charset).toString()}(buffer,_this3.headers)})}},Object.defineProperties(Body.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),Body.mixIn=function(proto){for(const name of Object.getOwnPropertyNames(Body.prototype))if(!(name in proto)){const desc=Object.getOwnPropertyDescriptor(Body.prototype,name);Object.defineProperty(proto,name,desc)}},Body.Promise=global.Promise;const invalidTokenRegex=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,invalidHeaderCharRegex=/[^\t\x20-\x7e\x80-\xff]/;function validateName(name){if(name=`${name}`,invalidTokenRegex.test(name)||""===name)throw new TypeError(`${name} is not a legal HTTP header name`)}function validateValue(value){if(value=`${value}`,invalidHeaderCharRegex.test(value))throw new TypeError(`${value} is not a legal HTTP header value`)}function find(map,name){name=name.toLowerCase();for(const key in map)if(key.toLowerCase()===name)return key}const MAP=Symbol("map");class Headers{constructor(){let init=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[MAP]=Object.create(null),init instanceof Headers){const rawHeaders=init.raw(),headerNames=Object.keys(rawHeaders);for(const headerName of headerNames)for(const value of rawHeaders[headerName])this.append(headerName,value)}else if(null==init);else{if("object"!=typeof init)throw new TypeError("Provided initializer must be an object");{const method=init[Symbol.iterator];if(null!=method){if("function"!=typeof method)throw new TypeError("Header pairs must be iterable");const pairs=[];for(const pair of init){if("object"!=typeof pair||"function"!=typeof pair[Symbol.iterator])throw new TypeError("Each header pair must be iterable");pairs.push(Array.from(pair))}for(const pair of pairs){if(2!==pair.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(pair[0],pair[1])}}else for(const key of Object.keys(init)){const value=init[key];this.append(key,value)}}}}get(name){validateName(name=`${name}`);const key=find(this[MAP],name);return void 0===key?null:this[MAP][key].join(", ")}forEach(callback){let thisArg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,pairs=getHeaders(this),i=0;for(;i<pairs.length;){var _pairs$i=pairs[i];const name=_pairs$i[0],value=_pairs$i[1];callback.call(thisArg,value,name,this),pairs=getHeaders(this),i++}}set(name,value){value=`${value}`,validateName(name=`${name}`),validateValue(value);const key=find(this[MAP],name);this[MAP][void 0!==key?key:name]=[value]}append(name,value){value=`${value}`,validateName(name=`${name}`),validateValue(value);const key=find(this[MAP],name);void 0!==key?this[MAP][key].push(value):this[MAP][name]=[value]}has(name){return validateName(name=`${name}`),void 0!==find(this[MAP],name)}delete(name){validateName(name=`${name}`);const key=find(this[MAP],name);void 0!==key&&delete this[MAP][key]}raw(){return this[MAP]}keys(){return createHeadersIterator(this,"key")}values(){return createHeadersIterator(this,"value")}[Symbol.iterator](){return createHeadersIterator(this,"key+value")}}function getHeaders(headers){let kind=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(headers[MAP]).sort().map("key"===kind?function(k){return k.toLowerCase()}:"value"===kind?function(k){return headers[MAP][k].join(", ")}:function(k){return[k.toLowerCase(),headers[MAP][k].join(", ")]})}Headers.prototype.entries=Headers.prototype[Symbol.iterator],Object.defineProperty(Headers.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Headers.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const INTERNAL=Symbol("internal");function createHeadersIterator(target,kind){const iterator=Object.create(HeadersIteratorPrototype);return iterator[INTERNAL]={target,kind,index:0},iterator}const HeadersIteratorPrototype=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==HeadersIteratorPrototype)throw new TypeError("Value of `this` is not a HeadersIterator");var _INTERNAL=this[INTERNAL];const target=_INTERNAL.target,kind=_INTERNAL.kind,index=_INTERNAL.index,values=getHeaders(target,kind);return index>=values.length?{value:void 0,done:!0}:(this[INTERNAL].index=index+1,{value:values[index],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function exportNodeCompatibleHeaders(headers){const obj=Object.assign({__proto__:null},headers[MAP]),hostHeaderKey=find(headers[MAP],"Host");return void 0!==hostHeaderKey&&(obj[hostHeaderKey]=obj[hostHeaderKey][0]),obj}Object.defineProperty(HeadersIteratorPrototype,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const INTERNALS$1=Symbol("Response internals"),STATUS_CODES=http__WEBPACK_IMPORTED_MODULE_1__.STATUS_CODES;class Response{constructor(){let body=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Body.call(this,body,opts);const status=opts.status||200,headers=new Headers(opts.headers);if(null!=body&&!headers.has("Content-Type")){const contentType=extractContentType(body);contentType&&headers.append("Content-Type",contentType)}this[INTERNALS$1]={url:opts.url,status,statusText:opts.statusText||STATUS_CODES[status],headers,counter:opts.counter}}get url(){return this[INTERNALS$1].url||""}get status(){return this[INTERNALS$1].status}get ok(){return this[INTERNALS$1].status>=200&&this[INTERNALS$1].status<300}get redirected(){return this[INTERNALS$1].counter>0}get statusText(){return this[INTERNALS$1].statusText}get headers(){return this[INTERNALS$1].headers}clone(){return new Response(clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}Body.mixIn(Response.prototype),Object.defineProperties(Response.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(Response.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const INTERNALS$2=Symbol("Request internals"),parse_url=url__WEBPACK_IMPORTED_MODULE_2__.parse,format_url=url__WEBPACK_IMPORTED_MODULE_2__.format,streamDestructionSupported="destroy"in stream__WEBPACK_IMPORTED_MODULE_0__.Readable.prototype;function isRequest(input){return"object"==typeof input&&"object"==typeof input[INTERNALS$2]}class Request{constructor(input){let parsedURL,init=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};isRequest(input)?parsedURL=parse_url(input.url):(parsedURL=input&&input.href?parse_url(input.href):parse_url(`${input}`),input={});let method=init.method||input.method||"GET";if(method=method.toUpperCase(),(null!=init.body||isRequest(input)&&null!==input.body)&&("GET"===method||"HEAD"===method))throw new TypeError("Request with GET/HEAD method cannot have body");let inputBody=null!=init.body?init.body:isRequest(input)&&null!==input.body?clone(input):null;Body.call(this,inputBody,{timeout:init.timeout||input.timeout||0,size:init.size||input.size||0});const headers=new Headers(init.headers||input.headers||{});if(null!=inputBody&&!headers.has("Content-Type")){const contentType=extractContentType(inputBody);contentType&&headers.append("Content-Type",contentType)}let signal=isRequest(input)?input.signal:null;if("signal"in init&&(signal=init.signal),null!=signal&&!function isAbortSignal(signal){const proto=signal&&"object"==typeof signal&&Object.getPrototypeOf(signal);return!(!proto||"AbortSignal"!==proto.constructor.name)}(signal))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[INTERNALS$2]={method,redirect:init.redirect||input.redirect||"follow",headers,parsedURL,signal},this.follow=void 0!==init.follow?init.follow:void 0!==input.follow?input.follow:20,this.compress=void 0!==init.compress?init.compress:void 0===input.compress||input.compress,this.counter=init.counter||input.counter||0,this.agent=init.agent||input.agent}get method(){return this[INTERNALS$2].method}get url(){return format_url(this[INTERNALS$2].parsedURL)}get headers(){return this[INTERNALS$2].headers}get redirect(){return this[INTERNALS$2].redirect}get signal(){return this[INTERNALS$2].signal}clone(){return new Request(this)}}function AbortError(message){Error.call(this,message),this.type="aborted",this.message=message,Error.captureStackTrace(this,this.constructor)}Body.mixIn(Request.prototype),Object.defineProperty(Request.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Request.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),AbortError.prototype=Object.create(Error.prototype),AbortError.prototype.constructor=AbortError,AbortError.prototype.name="AbortError";const PassThrough$1=stream__WEBPACK_IMPORTED_MODULE_0__.PassThrough,resolve_url=url__WEBPACK_IMPORTED_MODULE_2__.resolve;function fetch(url,opts){if(!fetch.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return Body.Promise=fetch.Promise,new fetch.Promise(function(resolve,reject){const request=new Request(url,opts),options=function getNodeRequestOptions(request){const parsedURL=request[INTERNALS$2].parsedURL,headers=new Headers(request[INTERNALS$2].headers);if(headers.has("Accept")||headers.set("Accept","*/*"),!parsedURL.protocol||!parsedURL.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(parsedURL.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(request.signal&&request.body instanceof stream__WEBPACK_IMPORTED_MODULE_0__.Readable&&!streamDestructionSupported)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let contentLengthValue=null;if(null==request.body&&/^(POST|PUT)$/i.test(request.method)&&(contentLengthValue="0"),null!=request.body){const totalBytes=getTotalBytes(request);"number"==typeof totalBytes&&(contentLengthValue=String(totalBytes))}contentLengthValue&&headers.set("Content-Length",contentLengthValue),headers.has("User-Agent")||headers.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),request.compress&&!headers.has("Accept-Encoding")&&headers.set("Accept-Encoding","gzip,deflate");let agent=request.agent;return"function"==typeof agent&&(agent=agent(parsedURL)),headers.has("Connection")||agent||headers.set("Connection","close"),Object.assign({},parsedURL,{method:request.method,headers:exportNodeCompatibleHeaders(headers),agent})}(request),send=("https:"===options.protocol?https__WEBPACK_IMPORTED_MODULE_3__:http__WEBPACK_IMPORTED_MODULE_1__).request,signal=request.signal;let response=null;const abort=function abort(){let error=new AbortError("The user aborted a request.");reject(error),request.body&&request.body instanceof stream__WEBPACK_IMPORTED_MODULE_0__.Readable&&request.body.destroy(error),response&&response.body&&response.body.emit("error",error)};if(signal&&signal.aborted)return void abort();const abortAndFinalize=function abortAndFinalize(){abort(),finalize()},req=send(options);let reqTimeout;function finalize(){req.abort(),signal&&signal.removeEventListener("abort",abortAndFinalize),clearTimeout(reqTimeout)}signal&&signal.addEventListener("abort",abortAndFinalize),request.timeout&&req.once("socket",function(socket){reqTimeout=setTimeout(function(){reject(new FetchError(`network timeout at: ${request.url}`,"request-timeout")),finalize()},request.timeout)}),req.on("error",function(err){reject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`,"system",err)),finalize()}),req.on("response",function(res){clearTimeout(reqTimeout);const headers=function createHeadersLenient(obj){const headers=new Headers;for(const name of Object.keys(obj))if(!invalidTokenRegex.test(name))if(Array.isArray(obj[name]))for(const val of obj[name])invalidHeaderCharRegex.test(val)||(void 0===headers[MAP][name]?headers[MAP][name]=[val]:headers[MAP][name].push(val));else invalidHeaderCharRegex.test(obj[name])||(headers[MAP][name]=[obj[name]]);return headers}(res.headers);if(fetch.isRedirect(res.statusCode)){const location=headers.get("Location"),locationURL=null===location?null:resolve_url(request.url,location);switch(request.redirect){case"error":return reject(new FetchError(`redirect mode is set to error: ${request.url}`,"no-redirect")),void finalize();case"manual":if(null!==locationURL)try{headers.set("Location",locationURL)}catch(err){reject(err)}break;case"follow":if(null===locationURL)break;if(request.counter>=request.follow)return reject(new FetchError(`maximum redirect reached at: ${request.url}`,"max-redirect")),void finalize();const requestOpts={headers:new Headers(request.headers),follow:request.follow,counter:request.counter+1,agent:request.agent,compress:request.compress,method:request.method,body:request.body,signal:request.signal,timeout:request.timeout};return 303!==res.statusCode&&request.body&&null===getTotalBytes(request)?(reject(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void finalize()):(303!==res.statusCode&&(301!==res.statusCode&&302!==res.statusCode||"POST"!==request.method)||(requestOpts.method="GET",requestOpts.body=void 0,requestOpts.headers.delete("content-length")),resolve(fetch(new Request(locationURL,requestOpts))),void finalize())}}res.once("end",function(){signal&&signal.removeEventListener("abort",abortAndFinalize)});let body=res.pipe(new PassThrough$1);const response_options={url:request.url,status:res.statusCode,statusText:res.statusMessage,headers,size:request.size,timeout:request.timeout,counter:request.counter},codings=headers.get("Content-Encoding");if(!request.compress||"HEAD"===request.method||null===codings||204===res.statusCode||304===res.statusCode)return response=new Response(body,response_options),void resolve(response);const zlibOptions={flush:zlib__WEBPACK_IMPORTED_MODULE_4__.Z_SYNC_FLUSH,finishFlush:zlib__WEBPACK_IMPORTED_MODULE_4__.Z_SYNC_FLUSH};if("gzip"==codings||"x-gzip"==codings)return body=body.pipe(zlib__WEBPACK_IMPORTED_MODULE_4__.createGunzip(zlibOptions)),response=new Response(body,response_options),void resolve(response);if("deflate"!=codings&&"x-deflate"!=codings){if("br"==codings&&"function"==typeof zlib__WEBPACK_IMPORTED_MODULE_4__.createBrotliDecompress)return body=body.pipe(zlib__WEBPACK_IMPORTED_MODULE_4__.createBrotliDecompress()),response=new Response(body,response_options),void resolve(response);response=new Response(body,response_options),resolve(response)}else{res.pipe(new PassThrough$1).once("data",function(chunk){body=8==(15&chunk[0])?body.pipe(zlib__WEBPACK_IMPORTED_MODULE_4__.createInflate()):body.pipe(zlib__WEBPACK_IMPORTED_MODULE_4__.createInflateRaw()),response=new Response(body,response_options),resolve(response)})}}),function writeToStream(dest,instance){const body=instance.body;null===body?dest.end():isBlob(body)?body.stream().pipe(dest):Buffer.isBuffer(body)?(dest.write(body),dest.end()):body.pipe(dest)}(req,request)})}fetch.isRedirect=function(code){return 301===code||302===code||303===code||307===code||308===code},fetch.Promise=global.Promise,__webpack_exports__.default=fetch},function(module,exports){module.exports=require("net")},function(module,exports,__webpack_require__){"use strict";function keyMirror(arr){const tmp={};for(const value of arr)tmp[value]=value;return tmp}exports.browser="undefined"!=typeof window,exports.RPCCommands=keyMirror(["DISPATCH","AUTHORIZE","AUTHENTICATE","GET_GUILD","GET_GUILDS","GET_CHANNEL","GET_CHANNELS","GET_RELATIONSHIPS","GET_USER","SUBSCRIBE","UNSUBSCRIBE","SET_USER_VOICE_SETTINGS","SET_USER_VOICE_SETTINGS_2","SELECT_VOICE_CHANNEL","GET_SELECTED_VOICE_CHANNEL","SELECT_TEXT_CHANNEL","GET_VOICE_SETTINGS","SET_VOICE_SETTINGS_2","SET_VOICE_SETTINGS","CAPTURE_SHORTCUT","SET_ACTIVITY","SEND_ACTIVITY_JOIN_INVITE","CLOSE_ACTIVITY_JOIN_REQUEST","ACTIVITY_INVITE_USER","ACCEPT_ACTIVITY_INVITE","INVITE_BROWSER","DEEP_LINK","CONNECTIONS_CALLBACK","BRAINTREE_POPUP_BRIDGE_CALLBACK","GIFT_CODE_BROWSER","OVERLAY","BROWSER_HANDOFF","SET_CERTIFIED_DEVICES","GET_IMAGE","CREATE_LOBBY","UPDATE_LOBBY","DELETE_LOBBY","UPDATE_LOBBY_MEMBER","CONNECT_TO_LOBBY","DISCONNECT_FROM_LOBBY","SEND_TO_LOBBY","SEARCH_LOBBIES","CONNECT_TO_LOBBY_VOICE","DISCONNECT_FROM_LOBBY_VOICE","SET_OVERLAY_LOCKED","OPEN_OVERLAY_ACTIVITY_INVITE","OPEN_OVERLAY_GUILD_INVITE","OPEN_OVERLAY_VOICE_SETTINGS","VALIDATE_APPLICATION","GET_ENTITLEMENT_TICKET","GET_APPLICATION_TICKET","START_PURCHASE","GET_SKUS","GET_ENTITLEMENTS","GET_NETWORKING_CONFIG","NETWORKING_SYSTEM_METRICS","NETWORKING_PEER_METRICS","NETWORKING_CREATE_TOKEN","SET_USER_ACHIEVEMENT","GET_USER_ACHIEVEMENTS"]),exports.RPCEvents=keyMirror(["CURRENT_USER_UPDATE","GUILD_STATUS","GUILD_CREATE","CHANNEL_CREATE","RELATIONSHIP_UPDATE","VOICE_CHANNEL_SELECT","VOICE_STATE_CREATE","VOICE_STATE_DELETE","VOICE_STATE_UPDATE","VOICE_SETTINGS_UPDATE","VOICE_SETTINGS_UPDATE_2","VOICE_CONNECTION_STATUS","SPEAKING_START","SPEAKING_STOP","GAME_JOIN","GAME_SPECTATE","ACTIVITY_JOIN","ACTIVITY_JOIN_REQUEST","ACTIVITY_SPECTATE","ACTIVITY_INVITE","NOTIFICATION_CREATE","MESSAGE_CREATE","MESSAGE_UPDATE","MESSAGE_DELETE","LOBBY_DELETE","LOBBY_UPDATE","LOBBY_MEMBER_CONNECT","LOBBY_MEMBER_DISCONNECT","LOBBY_MEMBER_UPDATE","LOBBY_MESSAGE","CAPTURE_SHORTCUT_CHANGE","OVERLAY","OVERLAY_UPDATE","ENTITLEMENT_CREATE","ENTITLEMENT_DELETE","USER_ACHIEVEMENT_UPDATE","READY","ERROR"]),exports.RPCErrors={CAPTURE_SHORTCUT_ALREADY_LISTENING:5004,GET_GUILD_TIMED_OUT:5002,INVALID_ACTIVITY_JOIN_REQUEST:4012,INVALID_ACTIVITY_SECRET:5005,INVALID_CHANNEL:4005,INVALID_CLIENTID:4007,INVALID_COMMAND:4002,INVALID_ENTITLEMENT:4015,INVALID_EVENT:4004,INVALID_GIFT_CODE:4016,INVALID_GUILD:4003,INVALID_INVITE:4011,INVALID_LOBBY:4013,INVALID_LOBBY_SECRET:4014,INVALID_ORIGIN:4008,INVALID_PAYLOAD:4e3,INVALID_PERMISSIONS:4006,INVALID_TOKEN:4009,INVALID_USER:4010,LOBBY_FULL:5007,NO_ELIGIBLE_ACTIVITY:5006,OAUTH2_ERROR:5e3,PURCHASE_CANCELED:5008,PURCHASE_ERROR:5009,RATE_LIMITED:5011,SELECT_CHANNEL_TIMED_OUT:5001,SELECT_VOICE_FORCE_REQUIRED:5003,SERVICE_UNAVAILABLE:1001,TRANSACTION_ABORTED:1002,UNAUTHORIZED_FOR_ACHIEVEMENT:5010,UNKNOWN_ERROR:1e3},exports.RPCCloseCodes={CLOSE_NORMAL:1e3,CLOSE_UNSUPPORTED:1003,CLOSE_ABNORMAL:1006,INVALID_CLIENTID:4e3,INVALID_ORIGIN:4001,RATELIMITED:4002,TOKEN_REVOKED:4003,INVALID_VERSION:4004,INVALID_ENCODING:4005},exports.LobbyTypes={PRIVATE:1,PUBLIC:2},exports.RelationshipTypes={NONE:0,FRIEND:1,BLOCKED:2,PENDING_INCOMING:3,PENDING_OUTGOING:4,IMPLICIT:5}},function(module,exports,__webpack_require__){"use strict";const EventEmitter=__webpack_require__(4),crypto=__webpack_require__(12),https=__webpack_require__(15),http=__webpack_require__(7),net=__webpack_require__(18),tls=__webpack_require__(41),url=__webpack_require__(8),PerMessageDeflate=__webpack_require__(9),EventTarget=__webpack_require__(46),extension=__webpack_require__(22),Receiver=__webpack_require__(23),Sender=__webpack_require__(25),{BINARY_TYPES,EMPTY_BUFFER,GUID,kStatusCode,kWebSocket,NOOP}=__webpack_require__(5),readyStates=["CONNECTING","OPEN","CLOSING","CLOSED"],protocolVersions=[8,13],closeTimeout=3e4;class WebSocket extends EventEmitter{constructor(address,protocols,options){super(),this.readyState=WebSocket.CONNECTING,this.protocol="",this._binaryType=BINARY_TYPES[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==address?(this._isServer=!1,this._redirects=0,Array.isArray(protocols)?protocols=protocols.join(", "):"object"==typeof protocols&&null!==protocols&&(options=protocols,protocols=void 0),function initAsClient(websocket,address,protocols,options){const opts=Object.assign({protocolVersion:protocolVersions[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},options,{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0});if(!protocolVersions.includes(opts.protocolVersion))throw new RangeError(`Unsupported protocol version: ${opts.protocolVersion} `+`(supported versions: ${protocolVersions.join(", ")})`);var parsedUrl;"object"==typeof address&&void 0!==address.href?(parsedUrl=address,websocket.url=address.href):(parsedUrl=url.URL?new url.URL(address):url.parse(address),websocket.url=address);const isUnixSocket="ws+unix:"===parsedUrl.protocol;if(!(parsedUrl.host||isUnixSocket&&parsedUrl.pathname))throw new Error(`Invalid URL: ${websocket.url}`);const isSecure="wss:"===parsedUrl.protocol||"https:"===parsedUrl.protocol;const defaultPort=isSecure?443:80;const key=crypto.randomBytes(16).toString("base64");const get=isSecure?https.get:http.get;const path=parsedUrl.search?`${parsedUrl.pathname||"/"}${parsedUrl.search}`:parsedUrl.pathname||"/";var perMessageDeflate;opts.createConnection=isSecure?tlsConnect:netConnect;opts.defaultPort=opts.defaultPort||defaultPort;opts.port=parsedUrl.port||defaultPort;opts.host=parsedUrl.hostname.startsWith("[")?parsedUrl.hostname.slice(1,-1):parsedUrl.hostname;opts.headers=Object.assign({"Sec-WebSocket-Version":opts.protocolVersion,"Sec-WebSocket-Key":key,Connection:"Upgrade",Upgrade:"websocket"},opts.headers);opts.path=path;opts.timeout=opts.handshakeTimeout;opts.perMessageDeflate&&(perMessageDeflate=new PerMessageDeflate(!0!==opts.perMessageDeflate?opts.perMessageDeflate:{},!1,opts.maxPayload),opts.headers["Sec-WebSocket-Extensions"]=extension.format({[PerMessageDeflate.extensionName]:perMessageDeflate.offer()}));protocols&&(opts.headers["Sec-WebSocket-Protocol"]=protocols);opts.origin&&(opts.protocolVersion<13?opts.headers["Sec-WebSocket-Origin"]=opts.origin:opts.headers.Origin=opts.origin);parsedUrl.auth?opts.auth=parsedUrl.auth:(parsedUrl.username||parsedUrl.password)&&(opts.auth=`${parsedUrl.username}:${parsedUrl.password}`);if(isUnixSocket){const parts=path.split(":");opts.socketPath=parts[0],opts.path=parts[1]}var req=websocket._req=get(opts);opts.timeout&&req.on("timeout",()=>{abortHandshake(websocket,req,"Opening handshake has timed out")});req.on("error",err=>{websocket._req.aborted||(req=websocket._req=null,websocket.readyState=WebSocket.CLOSING,websocket.emit("error",err),websocket.emitClose())});req.on("response",res=>{const location=res.headers.location,statusCode=res.statusCode;if(location&&opts.followRedirects&&statusCode>=300&&statusCode<400){if(++websocket._redirects>opts.maxRedirects)return void abortHandshake(websocket,req,"Maximum redirects exceeded");req.abort();const addr=url.URL?new url.URL(location,address):url.resolve(address,location);initAsClient(websocket,addr,protocols,options)}else websocket.emit("unexpected-response",req,res)||abortHandshake(websocket,req,`Unexpected server response: ${res.statusCode}`)});req.on("upgrade",(res,socket,head)=>{if(websocket.emit("upgrade",res),websocket.readyState!==WebSocket.CONNECTING)return;req=websocket._req=null;const digest=crypto.createHash("sha1").update(key+GUID).digest("base64");if(res.headers["sec-websocket-accept"]!==digest)return void abortHandshake(websocket,socket,"Invalid Sec-WebSocket-Accept header");const serverProt=res.headers["sec-websocket-protocol"],protList=(protocols||"").split(/, */);var protError;if(!protocols&&serverProt?protError="Server sent a subprotocol but none was requested":protocols&&!serverProt?protError="Server sent no subprotocol":serverProt&&!protList.includes(serverProt)&&(protError="Server sent an invalid subprotocol"),protError)abortHandshake(websocket,socket,protError);else{if(serverProt&&(websocket.protocol=serverProt),perMessageDeflate)try{const extensions=extension.parse(res.headers["sec-websocket-extensions"]);extensions[PerMessageDeflate.extensionName]&&(perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]),websocket._extensions[PerMessageDeflate.extensionName]=perMessageDeflate)}catch(err){return void abortHandshake(websocket,socket,"Invalid Sec-WebSocket-Extensions header")}websocket.setSocket(socket,head,opts.maxPayload)}})}(this,address,protocols,options)):this._isServer=!0}get CONNECTING(){return WebSocket.CONNECTING}get CLOSING(){return WebSocket.CLOSING}get CLOSED(){return WebSocket.CLOSED}get OPEN(){return WebSocket.OPEN}get binaryType(){return this._binaryType}set binaryType(type){BINARY_TYPES.includes(type)&&(this._binaryType=type,this._receiver&&(this._receiver._binaryType=type))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:0}get extensions(){return Object.keys(this._extensions).join()}setSocket(socket,head,maxPayload){const receiver=new Receiver(this._binaryType,this._extensions,maxPayload);this._sender=new Sender(socket,this._extensions),this._receiver=receiver,this._socket=socket,receiver[kWebSocket]=this,socket[kWebSocket]=this,receiver.on("conclude",receiverOnConclude),receiver.on("drain",receiverOnDrain),receiver.on("error",receiverOnError),receiver.on("message",receiverOnMessage),receiver.on("ping",receiverOnPing),receiver.on("pong",receiverOnPong),socket.setTimeout(0),socket.setNoDelay(),head.length>0&&socket.unshift(head),socket.on("close",socketOnClose),socket.on("data",socketOnData),socket.on("end",socketOnEnd),socket.on("error",socketOnError),this.readyState=WebSocket.OPEN,this.emit("open")}emitClose(){this.readyState=WebSocket.CLOSED,this._socket?(this._extensions[PerMessageDeflate.extensionName]&&this._extensions[PerMessageDeflate.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(code,data){if(this.readyState!==WebSocket.CLOSED){if(this.readyState===WebSocket.CONNECTING){const msg="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,msg)}this.readyState!==WebSocket.CLOSING?(this.readyState=WebSocket.CLOSING,this._sender.close(code,data,!this._isServer,err=>{err||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),closeTimeout)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(data,mask,cb){if("function"==typeof data?(cb=data,data=mask=void 0):"function"==typeof mask&&(cb=mask,mask=void 0),this.readyState!==WebSocket.OPEN){const err=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${readyStates[this.readyState]})`);if(cb)return cb(err);throw err}"number"==typeof data&&(data=data.toString()),void 0===mask&&(mask=!this._isServer),this._sender.ping(data||EMPTY_BUFFER,mask,cb)}pong(data,mask,cb){if("function"==typeof data?(cb=data,data=mask=void 0):"function"==typeof mask&&(cb=mask,mask=void 0),this.readyState!==WebSocket.OPEN){const err=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${readyStates[this.readyState]})`);if(cb)return cb(err);throw err}"number"==typeof data&&(data=data.toString()),void 0===mask&&(mask=!this._isServer),this._sender.pong(data||EMPTY_BUFFER,mask,cb)}send(data,options,cb){if("function"==typeof options&&(cb=options,options={}),this.readyState!==WebSocket.OPEN){const err=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${readyStates[this.readyState]})`);if(cb)return cb(err);throw err}"number"==typeof data&&(data=data.toString());const opts=Object.assign({binary:"string"!=typeof data,mask:!this._isServer,compress:!0,fin:!0},options);this._extensions[PerMessageDeflate.extensionName]||(opts.compress=!1),this._sender.send(data||EMPTY_BUFFER,opts,cb)}terminate(){if(this.readyState!==WebSocket.CLOSED){if(this.readyState===WebSocket.CONNECTING){const msg="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,msg)}this._socket&&(this.readyState=WebSocket.CLOSING,this._socket.destroy())}}}function netConnect(options){return options.protocolVersion&&(options.path=options.socketPath),net.connect(options)}function tlsConnect(options){return options.path=void 0,options.servername=options.servername||options.host,tls.connect(options)}function abortHandshake(websocket,stream,message){websocket.readyState=WebSocket.CLOSING;const err=new Error(message);Error.captureStackTrace(err,abortHandshake),stream.setHeader?(stream.abort(),stream.once("abort",websocket.emitClose.bind(websocket)),websocket.emit("error",err)):(stream.destroy(err),stream.once("error",websocket.emit.bind(websocket,"error")),stream.once("close",websocket.emitClose.bind(websocket)))}function receiverOnConclude(code,reason){const websocket=this[kWebSocket];websocket._socket.removeListener("data",socketOnData),websocket._socket.resume(),websocket._closeFrameReceived=!0,websocket._closeMessage=reason,websocket._closeCode=code,1005===code?websocket.close():websocket.close(code,reason)}function receiverOnDrain(){this[kWebSocket]._socket.resume()}function receiverOnError(err){const websocket=this[kWebSocket];websocket._socket.removeListener("data",socketOnData),websocket.readyState=WebSocket.CLOSING,websocket._closeCode=err[kStatusCode],websocket.emit("error",err),websocket._socket.destroy()}function receiverOnFinish(){this[kWebSocket].emitClose()}function receiverOnMessage(data){this[kWebSocket].emit("message",data)}function receiverOnPing(data){const websocket=this[kWebSocket];websocket.pong(data,!websocket._isServer,NOOP),websocket.emit("ping",data)}function receiverOnPong(data){this[kWebSocket].emit("pong",data)}function socketOnClose(){const websocket=this[kWebSocket];this.removeListener("close",socketOnClose),this.removeListener("end",socketOnEnd),websocket.readyState=WebSocket.CLOSING,websocket._socket.read(),websocket._receiver.end(),this.removeListener("data",socketOnData),this[kWebSocket]=void 0,clearTimeout(websocket._closeTimer),websocket._receiver._writableState.finished||websocket._receiver._writableState.errorEmitted?websocket.emitClose():(websocket._receiver.on("error",receiverOnFinish),websocket._receiver.on("finish",receiverOnFinish))}function socketOnData(chunk){this[kWebSocket]._receiver.write(chunk)||this.pause()}function socketOnEnd(){const websocket=this[kWebSocket];websocket.readyState=WebSocket.CLOSING,websocket._receiver.end(),this.end()}function socketOnError(){const websocket=this[kWebSocket];this.removeListener("error",socketOnError),this.on("error",NOOP),websocket.readyState=WebSocket.CLOSING,this.destroy()}readyStates.forEach((readyState,i)=>{WebSocket[readyState]=i}),["open","error","close","message"].forEach(method=>{Object.defineProperty(WebSocket.prototype,`on${method}`,{get(){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)if(listeners[i]._listener)return listeners[i]._listener},set(listener){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)listeners[i]._listener&&this.removeListener(method,listeners[i]);this.addEventListener(method,listener)}})}),WebSocket.prototype.addEventListener=EventTarget.addEventListener,WebSocket.prototype.removeEventListener=EventTarget.removeEventListener,module.exports=WebSocket},function(module,exports,__webpack_require__){var fs=__webpack_require__(2),path=__webpack_require__(1),os=__webpack_require__(44),runtimeRequire=require,abi=process.versions.modules,runtime=function isElectron(){return!(!process.versions||!process.versions.electron)||(!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type)}()?"electron":"node",arch=os.arch(),platform=os.platform();function load(dir){return runtimeRequire(load.path(dir))}function getFirst(dir,filter){try{var files=fs.readdirSync(dir).filter(filter);return files[0]&&path.join(dir,files[0])}catch(err){return null}}function matchNapiRuntime(name){return name===runtime+"-napi.node"}function matchNapi(name){return"node-napi.node"===name}function matchPrebuild(name){var parts=name.split("-");return parts[0]===runtime&&parts[1]===abi+".node"}function matchBuild(name){return/\.node$/.test(name)}module.exports=load,load.path=function(dir){dir=path.resolve(dir||".");try{var name=runtimeRequire(path.join(dir,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[name+"_PREBUILD"]&&(dir=process.env[name+"_PREBUILD"])}catch(err){}var release=getFirst(path.join(dir,"build/Release"),matchBuild);if(release)return release;var debug=getFirst(path.join(dir,"build/Debug"),matchBuild);if(debug)return debug;var prebuild=getFirst(path.join(dir,"prebuilds/"+platform+"-"+arch),matchPrebuild);if(prebuild)return prebuild;var napiRuntime=getFirst(path.join(dir,"prebuilds/"+platform+"-"+arch),matchNapiRuntime);if(napiRuntime)return napiRuntime;var napi=getFirst(path.join(dir,"prebuilds/"+platform+"-"+arch),matchNapi);if(napi)return napi;throw new Error("No native build was found for runtime="+runtime+" abi="+abi+" platform="+platform+" arch="+arch)}},function(module,exports,__webpack_require__){"use strict";const tokenChars=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function push(dest,name,elem){Object.prototype.hasOwnProperty.call(dest,name)?dest[name].push(elem):dest[name]=[elem]}module.exports={format:function format(extensions){return Object.keys(extensions).map(extension=>{var configurations=extensions[extension];return Array.isArray(configurations)||(configurations=[configurations]),configurations.map(params=>[extension].concat(Object.keys(params).map(k=>{var values=params[k];return Array.isArray(values)||(values=[values]),values.map(v=>!0===v?k:`${k}=${v}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function parse(header){const offers={};if(void 0===header||""===header)return offers;for(var extensionName,paramName,params={},mustUnescape=!1,isEscaping=!1,inQuotes=!1,start=-1,end=-1,i=0;i<header.length;i++){const code=header.charCodeAt(i);if(void 0===extensionName)if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(32===code||9===code)-1===end&&-1!==start&&(end=i);else{if(59!==code&&44!==code)throw new SyntaxError(`Unexpected character at index ${i}`);{if(-1===start)throw new SyntaxError(`Unexpected character at index ${i}`);-1===end&&(end=i);const name=header.slice(start,end);44===code?(push(offers,name,params),params={}):extensionName=name,start=end=-1}}else if(void 0===paramName)if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(32===code||9===code)-1===end&&-1!==start&&(end=i);else if(59===code||44===code){if(-1===start)throw new SyntaxError(`Unexpected character at index ${i}`);-1===end&&(end=i),push(params,header.slice(start,end),!0),44===code&&(push(offers,extensionName,params),params={},extensionName=void 0),start=end=-1}else{if(61!==code||-1===start||-1!==end)throw new SyntaxError(`Unexpected character at index ${i}`);paramName=header.slice(start,i),start=end=-1}else if(isEscaping){if(1!==tokenChars[code])throw new SyntaxError(`Unexpected character at index ${i}`);-1===start?start=i:mustUnescape||(mustUnescape=!0),isEscaping=!1}else if(inQuotes)if(1===tokenChars[code])-1===start&&(start=i);else if(34===code&&-1!==start)inQuotes=!1,end=i;else{if(92!==code)throw new SyntaxError(`Unexpected character at index ${i}`);isEscaping=!0}else if(34===code&&61===header.charCodeAt(i-1))inQuotes=!0;else if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(-1===start||32!==code&&9!==code){if(59!==code&&44!==code)throw new SyntaxError(`Unexpected character at index ${i}`);if(-1===start)throw new SyntaxError(`Unexpected character at index ${i}`);-1===end&&(end=i);var value=header.slice(start,end);mustUnescape&&(value=value.replace(/\\/g,""),mustUnescape=!1),push(params,paramName,value),44===code&&(push(offers,extensionName,params),params={},extensionName=void 0),paramName=void 0,start=end=-1}else-1===end&&(end=i)}if(-1===start||inQuotes)throw new SyntaxError("Unexpected end of input");-1===end&&(end=i);const token=header.slice(start,end);return void 0===extensionName?push(offers,token,{}):(void 0===paramName?push(params,token,!0):push(params,paramName,mustUnescape?token.replace(/\\/g,""):token),push(offers,extensionName,params)),offers}}},function(module,exports,__webpack_require__){"use strict";const{Writable}=__webpack_require__(0),PerMessageDeflate=__webpack_require__(9),{BINARY_TYPES,EMPTY_BUFFER,kStatusCode,kWebSocket}=__webpack_require__(5),{concat,toArrayBuffer,unmask}=__webpack_require__(13),{isValidStatusCode,isValidUTF8}=__webpack_require__(24),GET_INFO=0,GET_PAYLOAD_LENGTH_16=1,GET_PAYLOAD_LENGTH_64=2,GET_MASK=3,GET_DATA=4,INFLATING=5;function error(ErrorCtor,message,prefix,statusCode){const err=new ErrorCtor(prefix?`Invalid WebSocket frame: ${message}`:message);return Error.captureStackTrace(err,error),err[kStatusCode]=statusCode,err}module.exports=class Receiver extends Writable{constructor(binaryType,extensions,maxPayload){super(),this._binaryType=binaryType||BINARY_TYPES[0],this[kWebSocket]=void 0,this._extensions=extensions||{},this._maxPayload=0|maxPayload,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=GET_INFO,this._loop=!1}_write(chunk,encoding,cb){if(8===this._opcode&&this._state==GET_INFO)return cb();this._bufferedBytes+=chunk.length,this._buffers.push(chunk),this.startLoop(cb)}consume(n){if(this._bufferedBytes-=n,n===this._buffers[0].length)return this._buffers.shift();if(n<this._buffers[0].length){const buf=this._buffers[0];return this._buffers[0]=buf.slice(n),buf.slice(0,n)}const dst=Buffer.allocUnsafe(n);do{const buf=this._buffers[0];n>=buf.length?this._buffers.shift().copy(dst,dst.length-n):(buf.copy(dst,dst.length-n,0,n),this._buffers[0]=buf.slice(n)),n-=buf.length}while(n>0);return dst}startLoop(cb){var err;this._loop=!0;do{switch(this._state){case GET_INFO:err=this.getInfo();break;case GET_PAYLOAD_LENGTH_16:err=this.getPayloadLength16();break;case GET_PAYLOAD_LENGTH_64:err=this.getPayloadLength64();break;case GET_MASK:this.getMask();break;case GET_DATA:err=this.getData(cb);break;default:return void(this._loop=!1)}}while(this._loop);cb(err)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const buf=this.consume(2);if(0!=(48&buf[0]))return this._loop=!1,error(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const compressed=64==(64&buf[0]);if(compressed&&!this._extensions[PerMessageDeflate.extensionName])return this._loop=!1,error(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&buf[0]),this._opcode=15&buf[0],this._payloadLength=127&buf[1],0===this._opcode){if(compressed)return this._loop=!1,error(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,error(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,error(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=compressed}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,error(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,error(RangeError,"FIN must be set",!0,1002);if(compressed)return this._loop=!1,error(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,error(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&buf[1]),126===this._payloadLength)this._state=GET_PAYLOAD_LENGTH_16;else{if(127!==this._payloadLength)return this.haveLength();this._state=GET_PAYLOAD_LENGTH_64}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const buf=this.consume(8),num=buf.readUInt32BE(0);return num>Math.pow(2,21)-1?(this._loop=!1,error(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=num*Math.pow(2,32)+buf.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,error(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=GET_MASK:this._state=GET_DATA}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=GET_DATA)}getData(cb){var data=EMPTY_BUFFER;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);data=this.consume(this._payloadLength),this._masked&&unmask(data,this._mask)}return this._opcode>7?this.controlMessage(data):this._compressed?(this._state=INFLATING,void this.decompress(data,cb)):(data.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(data)),this.dataMessage())}decompress(data,cb){this._extensions[PerMessageDeflate.extensionName].decompress(data,this._fin,(err,buf)=>{if(err)return cb(err);if(buf.length){if(this._messageLength+=buf.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return cb(error(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(buf)}const er=this.dataMessage();if(er)return cb(er);this.startLoop(cb)})}dataMessage(){if(this._fin){const messageLength=this._messageLength,fragments=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var data;data="nodebuffer"===this._binaryType?concat(fragments,messageLength):"arraybuffer"===this._binaryType?toArrayBuffer(concat(fragments,messageLength)):fragments,this.emit("message",data)}else{const buf=concat(fragments,messageLength);if(!isValidUTF8(buf))return this._loop=!1,error(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",buf.toString())}}this._state=GET_INFO}controlMessage(data){if(8===this._opcode)if(this._loop=!1,0===data.length)this.emit("conclude",1005,""),this.end();else{if(1===data.length)return error(RangeError,"invalid payload length 1",!0,1002);{const code=data.readUInt16BE(0);if(!isValidStatusCode(code))return error(RangeError,`invalid status code ${code}`,!0,1002);const buf=data.slice(2);if(!isValidUTF8(buf))return error(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",code,buf.toString()),this.end()}}else 9===this._opcode?this.emit("ping",data):this.emit("pong",data);this._state=GET_INFO}}},function(module,exports,__webpack_require__){"use strict";try{const isValidUTF8=__webpack_require__(47);exports.isValidUTF8="object"==typeof isValidUTF8?isValidUTF8.Validation.isValidUTF8:isValidUTF8}catch(e){exports.isValidUTF8=()=>!0}exports.isValidStatusCode=code=>code>=1e3&&code<=1013&&1004!==code&&1005!==code&&1006!==code||code>=3e3&&code<=4999},function(module,exports,__webpack_require__){"use strict";const{randomBytes}=__webpack_require__(12),PerMessageDeflate=__webpack_require__(9),{EMPTY_BUFFER}=__webpack_require__(5),{isValidStatusCode}=__webpack_require__(24),{mask:applyMask,toBuffer}=__webpack_require__(13);class Sender{constructor(socket,extensions){this._extensions=extensions||{},this._socket=socket,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(data,options){const merge=options.mask&&options.readOnly;var offset=options.mask?6:2,payloadLength=data.length;data.length>=65536?(offset+=8,payloadLength=127):data.length>125&&(offset+=2,payloadLength=126);const target=Buffer.allocUnsafe(merge?data.length+offset:offset);if(target[0]=options.fin?128|options.opcode:options.opcode,options.rsv1&&(target[0]|=64),target[1]=payloadLength,126===payloadLength?target.writeUInt16BE(data.length,2):127===payloadLength&&(target.writeUInt32BE(0,2),target.writeUInt32BE(data.length,6)),!options.mask)return[target,data];const mask=randomBytes(4);return target[1]|=128,target[offset-4]=mask[0],target[offset-3]=mask[1],target[offset-2]=mask[2],target[offset-1]=mask[3],merge?(applyMask(data,mask,target,offset,data.length),[target]):(applyMask(data,mask,data,0,data.length),[target,data])}close(code,data,mask,cb){var buf;if(void 0===code)buf=EMPTY_BUFFER;else{if("number"!=typeof code||!isValidStatusCode(code))throw new TypeError("First argument must be a valid error code number");void 0===data||""===data?(buf=Buffer.allocUnsafe(2)).writeUInt16BE(code,0):((buf=Buffer.allocUnsafe(2+Buffer.byteLength(data))).writeUInt16BE(code,0),buf.write(data,2))}this._deflating?this.enqueue([this.doClose,buf,mask,cb]):this.doClose(buf,mask,cb)}doClose(data,mask,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:8,mask,readOnly:!1}),cb)}ping(data,mask,cb){const buf=toBuffer(data);this._deflating?this.enqueue([this.doPing,buf,mask,toBuffer.readOnly,cb]):this.doPing(buf,mask,toBuffer.readOnly,cb)}doPing(data,mask,readOnly,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:9,mask,readOnly}),cb)}pong(data,mask,cb){const buf=toBuffer(data);this._deflating?this.enqueue([this.doPong,buf,mask,toBuffer.readOnly,cb]):this.doPong(buf,mask,toBuffer.readOnly,cb)}doPong(data,mask,readOnly,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:10,mask,readOnly}),cb)}send(data,options,cb){const buf=toBuffer(data),perMessageDeflate=this._extensions[PerMessageDeflate.extensionName];var opcode=options.binary?2:1,rsv1=options.compress;if(this._firstFragment?(this._firstFragment=!1,rsv1&&perMessageDeflate&&(rsv1=buf.length>=perMessageDeflate._threshold),this._compress=rsv1):(rsv1=!1,opcode=0),options.fin&&(this._firstFragment=!0),perMessageDeflate){const opts={fin:options.fin,rsv1,opcode,mask:options.mask,readOnly:toBuffer.readOnly};this._deflating?this.enqueue([this.dispatch,buf,this._compress,opts,cb]):this.dispatch(buf,this._compress,opts,cb)}else this.sendFrame(Sender.frame(buf,{fin:options.fin,rsv1:!1,opcode,mask:options.mask,readOnly:toBuffer.readOnly}),cb)}dispatch(data,compress,options,cb){if(!compress)return void this.sendFrame(Sender.frame(data,options),cb);const perMessageDeflate=this._extensions[PerMessageDeflate.extensionName];this._deflating=!0,perMessageDeflate.compress(data,options.fin,(_,buf)=>{this._deflating=!1,options.readOnly=!1,this.sendFrame(Sender.frame(buf,options),cb),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const params=this._queue.shift();this._bufferedBytes-=params[1].length,params[0].apply(this,params.slice(1))}}enqueue(params){this._bufferedBytes+=params[1].length,this._queue.push(params)}sendFrame(list,cb){2===list.length?(this._socket.cork(),this._socket.write(list[0]),this._socket.write(list[1],cb),this._socket.uncork()):this._socket.write(list[0],cb)}}module.exports=Sender},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode=__webpack_require__(6),liveShareApiVersion=__webpack_require__(50).version;async function getApi(){const liveshareExtension=vscode.extensions.getExtension(exports.extensionId);if(!liveshareExtension)return null;const extensionApi=liveshareExtension.isActive?liveshareExtension.exports:await liveshareExtension.activate();return extensionApi?extensionApi.getApi?extensionApi.getApi(liveShareApiVersion):extensionApi.getApiAsync(liveShareApiVersion):null}exports.extensionId="ms-vsliveshare.vsliveshare",exports.getApi=getApi,exports.getApiAsync=function getApiAsync(){return getApi()},function(Role){Role[Role.None=0]="None",Role[Role.Host=1]="Host",Role[Role.Guest=2]="Guest"}(exports.Role||(exports.Role={})),function(Access){Access[Access.None=0]="None",Access[Access.ReadOnly=1]="ReadOnly",Access[Access.ReadWrite=3]="ReadWrite",Access[Access.Owner=255]="Owner"}(exports.Access||(exports.Access={})),function(View){View.Session="liveshare.session",View.ExplorerSession="liveshare.session.explorer",View.Contacts="liveshare.contacts",View.Help="liveshare.help"}(exports.View||(exports.View={})),function(ViewItem){ViewItem.Participants="participants",ViewItem.Servers="servers",ViewItem.Terminals="terminals",ViewItem.CurrentUser="participants.currentuser",ViewItem.Guest="participants.guest",ViewItem.FollowedGuest="participants.guest.followed",ViewItem.Participant="participants.participant",ViewItem.FollowedParticipant="participants.participant.followed",ViewItem.GuestAnonymous="participants.guest.anonymous",ViewItem.FollowedGuestAnonymous="participants.guest.followed.anonymous",ViewItem.GuestElevated="participants.guest.elevated",ViewItem.FollowedGuestElevated="participants.guest.followed.elevated",ViewItem.LocalServer="servers.local",ViewItem.RemoteServer="servers.remote",ViewItem.LocalTerminalReadOnly="terminals.local.readonly",ViewItem.LocalTerminalReadWrite="terminals.local.readwrite",ViewItem.RemoteTerminal="terminals.remote",ViewItem.SuggestedContacts="contacts.suggested",ViewItem.AvailableContacts="contacts.available",ViewItem.ContactsProvider="contacts.provider",ViewItem.SelfContact="contacts.selfContact",ViewItem.Contact="contacts.contact",ViewItem.ContactOffline="contacts.contact.offline",ViewItem.RecentContact="contacts.recentContact",ViewItem.RecentContactOffline="contacts.recentContact.offline",ViewItem.NoContact="contacts.noContact",ViewItem.RecentContacts="contacts.RecentContacts",ViewItem.NoSuggestedContacts="contacts.NoSuggestedUsers",ViewItem.NoRecentContacts="contacts.NoRecentContacts",ViewItem.InvitedContact="contacts.invited",ViewItem.SessionFeedbackQuestion="help.sessionFeedback",ViewItem.ReportAProblem="help.reportAProblem",ViewItem.TweetUsYourFeedback="help.tweetUsYourFeedback",ViewItem.Survey="help.survey",ViewItem.GoodFeedback="help.goodFeedback",ViewItem.BadFeedback="help.badFeedback",ViewItem.DontAskAgain="help.dontAskAgain",ViewItem.Thankyou="help.thankyou",ViewItem.MoreInfo="help.moreinfo",ViewItem.Loading="loading",ViewItem.Other="other"}(exports.ViewItem||(exports.ViewItem={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_1=__webpack_require__(6);exports.default=class Logger{static _setup(){this._output=this._output||vscode_1.window.createOutputChannel("Discord Presence")}static log(message){this._output||this._setup(),this._output.appendLine(message)}}},function(module,exports,__webpack_require__){"use strict";module.exports=opts=>{const env=(opts=opts||{}).env||process.env;return"win32"!==(opts.platform||process.platform)?"PATH":Object.keys(env).find(x=>"PATH"===x.toUpperCase())||"Path"}},function(module,exports,__webpack_require__){var wrappy=__webpack_require__(74);function once(fn){var f=function(){return f.called?f.value:(f.called=!0,f.value=fn.apply(this,arguments))};return f.called=!1,f}function onceStrict(fn){var f=function(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=fn.apply(this,arguments)},name=fn.name||"Function wrapped with `once`";return f.onceError=name+" shouldn't be called more than once",f.called=!1,f}module.exports=wrappy(once),module.exports.strict=wrappy(onceStrict),once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_1=__webpack_require__(6),RPCClient_1=__webpack_require__(31),Logger_1=__webpack_require__(27),{register}=__webpack_require__(16);let loginTimeout;const statusBarIcon=vscode_1.window.createStatusBarItem(vscode_1.StatusBarAlignment.Left);statusBarIcon.text="$(pulse) Connecting to Discord...";const config=vscode_1.workspace.getConfiguration("discord");register(config.get("clientID"));const rpc=new RPCClient_1.default(config.get("clientID"),statusBarIcon);exports.activate=async function activate(context){Logger_1.default.log("Discord Presence activated!");let isWorkspaceExcluded=!1;const excludePatterns=config.get("workspaceExcludePatterns");if(excludePatterns&&excludePatterns.length>0)for(const pattern of excludePatterns){const regex=new RegExp(pattern),folders=vscode_1.workspace.workspaceFolders;if(!folders)break;if(folders.some(folder=>regex.test(folder.uri.fsPath))){isWorkspaceExcluded=!0;break}}if(!isWorkspaceExcluded&&config.get("enabled")){statusBarIcon.show();try{await rpc.login()}catch(error){Logger_1.default.log(`Encountered following error after trying to login:\n${error}`),await rpc.dispose(),config.get("silent")||(error.message.includes("ENOENT")?vscode_1.window.showErrorMessage("No Discord Client detected!"):vscode_1.window.showErrorMessage(`Couldn't connect to Discord via RPC: ${error.toString()}`)),rpc.statusBarIcon.text="$(pulse) Reconnect to Discord",rpc.statusBarIcon.command="discord.reconnect"}}const enabler=vscode_1.commands.registerCommand("discord.enable",async()=>{await rpc.dispose(),config.update("enabled",!0),rpc.config=vscode_1.workspace.getConfiguration("discord"),rpc.statusBarIcon.text="$(pulse) Connecting to Discord...",rpc.statusBarIcon.show(),await rpc.login(),vscode_1.window.showInformationMessage("Enabled Discord Rich Presence for this workspace.")}),disabler=vscode_1.commands.registerCommand("discord.disable",async()=>{config.update("enabled",!1),rpc.config=vscode_1.workspace.getConfiguration("discord"),await rpc.dispose(),rpc.statusBarIcon.hide(),vscode_1.window.showInformationMessage("Disabled Discord Rich Presence for this workspace.")}),reconnecter=vscode_1.commands.registerCommand("discord.reconnect",async()=>{loginTimeout&&clearTimeout(loginTimeout),await rpc.dispose(),loginTimeout=setTimeout(async()=>{await rpc.login(),config.get("silent")||vscode_1.window.showInformationMessage("Reconnecting to Discord RPC..."),rpc.statusBarIcon.text="$(pulse) Reconnecting to Discord...",rpc.statusBarIcon.command="discord.reconnect"},1e3)}),disconnect=vscode_1.commands.registerCommand("discord.disconnect",async()=>{await rpc.dispose(),rpc.statusBarIcon.text="$(pulse) Reconnect to Discord",rpc.statusBarIcon.command="discord.reconnect"}),allowSpectate=vscode_1.commands.registerCommand("discord.allowSpectate",async()=>{await rpc.allowSpectate()}),disableSpectate=vscode_1.commands.registerCommand("discord.disableSpectate",async()=>{await rpc.disableSpectate()}),allowJoinRequests=vscode_1.commands.registerCommand("discord.allowJoinRequests",async()=>{await rpc.allowJoinRequests()}),disableJoinRequests=vscode_1.commands.registerCommand("discord.disableJoinRequests",async()=>{await rpc.disableJoinRequests()});context.subscriptions.push(enabler,disabler,reconnecter,disconnect,allowSpectate,disableSpectate,allowJoinRequests,disableJoinRequests)},exports.deactivate=async function deactivate(){await rpc.dispose()},process.on("unhandledRejection",err=>Logger_1.default.log(err))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const{Client}=__webpack_require__(16),vscode_1=__webpack_require__(6),vsls=__webpack_require__(26),Activity_1=__webpack_require__(51),Logger_1=__webpack_require__(27),clipboardy=__webpack_require__(53);let activityTimer;exports.default=class RPCClient{constructor(clientId,statusBarIcon){this.config=vscode_1.workspace.getConfiguration("discord"),this._activity=new Activity_1.default,this._clientId=clientId,this.statusBarIcon=statusBarIcon}get client(){return this._rpc}setActivity(workspaceElapsedTime=!1){if(!this._rpc)return;const activity=this._activity.generate(workspaceElapsedTime);Logger_1.default.log("Sending activity to Discord."),this._rpc.setActivity(activity)}async allowSpectate(){this._rpc&&(Logger_1.default.log("Allowed spectating."),Logger_1.default.log("Sending spectate activity to Discord."),await this._activity.allowSpectate())}async disableSpectate(){this._rpc&&(Logger_1.default.log("Disabled spectating."),await this._activity.disableSpectate())}async allowJoinRequests(){this._rpc&&(Logger_1.default.log("Allowed join requests."),Logger_1.default.log("Sending join activity to Discord."),await this._activity.allowJoinRequests())}async disableJoinRequests(){this._rpc&&(Logger_1.default.log("Disabled join requests."),await this._activity.disableJoinRequests())}async login(){this._rpc||(this._rpc=new Client({transport:"ipc"}),Logger_1.default.log("Logging into RPC."),this._rpc.once("ready",async()=>{Logger_1.default.log("Successfully connected to Discord."),this.statusBarIcon.text="$(globe) Connected to Discord",this.statusBarIcon.tooltip="Connected to Discord",setTimeout(()=>this.statusBarIcon.text="$(globe)",5e3),activityTimer&&clearInterval(activityTimer),this.setActivity(),activityTimer=setInterval(()=>{this.config=vscode_1.workspace.getConfiguration("discord"),this.setActivity(this.config.get("workspaceElapsedTime"))},1e4),this._rpc.subscribe("ACTIVITY_SPECTATE",async({secret})=>{const liveshare=await vsls.getApi();if(liveshare)try{const s=Buffer.from(secret,"base64").toString();await clipboardy.write(s),await liveshare.join(vscode_1.Uri.parse(s)),await clipboardy.read()}catch(error){Logger_1.default.log(error)}}),setTimeout(()=>{this._rpc.subscribe("ACTIVITY_JOIN_REQUEST",async({user})=>vscode_1.window.showInformationMessage(`${user.username}#${user.discriminator} wants to join your session`,{title:"Accept"},{title:"Decline"}).then(async val=>{val&&"Accept"===val.title?await this._rpc.sendJoinInvite(user):await this._rpc.closeJoinRequest(user)}))},1e3),setTimeout(()=>{this._rpc.subscribe("ACTIVITY_JOIN",async({secret})=>{const liveshare=await vsls.getApi();if(liveshare)try{const s=Buffer.from(secret,"base64").toString();await clipboardy.write(s),await liveshare.join(vscode_1.Uri.parse(s)),await clipboardy.read()}catch(error){Logger_1.default.log(error)}})},2e3);const liveshare=await vsls.getApi();liveshare&&(liveshare.onDidChangeSession(({session})=>session.id?this._activity.changePartyId(session.id):this._activity.changePartyId()),liveshare.onDidChangePeers(({added,removed})=>added.length?this._activity.increasePartySize(added.length):removed.length?this._activity.decreasePartySize(removed.length):void 0))}),this._rpc.transport.once("close",async()=>{this.config.get("enabled")&&(await this.dispose(),this.statusBarIcon.text="$(plug) Reconnect to Discord",this.statusBarIcon.command="discord.reconnect",this.statusBarIcon.tooltip="")}),await this._rpc.login({clientId:this._clientId}))}async dispose(){this._activity.dispose();try{this._rpc&&await this._rpc.destroy()}catch(_a){}this._rpc=null,this.statusBarIcon.tooltip="",clearInterval(activityTimer)}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(33)("register-protocol-handler").registerProtocolHandler},function(module,exports,__webpack_require__){(function(__filename){var fs=__webpack_require__(2),path=__webpack_require__(1),fileURLToPath=__webpack_require__(34),join=path.join,dirname=path.dirname,exists=fs.accessSync&&function(path){try{fs.accessSync(path)}catch(e){return!1}return!0}||fs.existsSync||path.existsSync,defaults={arrow:process.env.NODE_BINDINGS_ARROW||"  ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};module.exports=exports=function bindings(opts){"string"==typeof opts?opts={bindings:opts}:opts||(opts={}),Object.keys(defaults).map(function(i){i in opts||(opts[i]=defaults[i])}),opts.module_root||(opts.module_root=exports.getRoot(exports.getFileName())),".node"!=path.extname(opts.bindings)&&(opts.bindings+=".node");for(var n,b,err,requireFunc=require,tries=[],i=0,l=opts.try.length;i<l;i++){n=join.apply(null,opts.try[i].map(function(p){return opts[p]||p})),tries.push(n);try{return b=opts.path?requireFunc.resolve(n):requireFunc(n),opts.path||(b.path=n),b}catch(e){if("MODULE_NOT_FOUND"!==e.code&&"QUALIFIED_PATH_RESOLUTION_FAILED"!==e.code&&!/not find/i.test(e.message))throw e}}throw(err=new Error("Could not locate the bindings file. Tried:\n"+tries.map(function(a){return opts.arrow+a}).join("\n"))).tries=tries,err},exports.getFileName=function getFileName(calling_file){var fileName,origPST=Error.prepareStackTrace,origSTL=Error.stackTraceLimit,dummy={};Error.stackTraceLimit=10,Error.prepareStackTrace=function(e,st){for(var i=0,l=st.length;i<l;i++)if((fileName=st[i].getFileName())!==__filename){if(!calling_file)return;if(fileName!==calling_file)return}},Error.captureStackTrace(dummy),Error.prepareStackTrace=origPST,Error.stackTraceLimit=origSTL;return 0===fileName.indexOf("file://")&&(fileName=fileURLToPath(fileName)),fileName},exports.getRoot=function getRoot(file){for(var prev,dir=dirname(file);;){if("."===dir&&(dir=process.cwd()),exists(join(dir,"package.json"))||exists(join(dir,"node_modules")))return dir;if(prev===dir)throw new Error('Could not find module root given file: "'+file+'". Do you have a `package.json` file? ');prev=dir,dir=join(dir,"..")}}}).call(this,"/index.js")},function(module,exports,__webpack_require__){var sep=__webpack_require__(1).sep||"/";module.exports=function fileUriToPath(uri){if("string"!=typeof uri||uri.length<=7||"file://"!=uri.substring(0,7))throw new TypeError("must pass in a file:// URI to convert to a file path");var rest=decodeURI(uri.substring(7)),firstSlash=rest.indexOf("/"),host=rest.substring(0,firstSlash),path=rest.substring(firstSlash+1);"localhost"==host&&(host="");host&&(host=sep+sep+host);path=path.replace(/^(.+)\|/,"$1:"),"\\"==sep&&(path=path.replace(/\//g,"\\"));/^.+\:/.test(path)||(path=sep+path);return host+path}},function(module,exports,__webpack_require__){"use strict";const EventEmitter=__webpack_require__(4),{setTimeout,clearTimeout}=__webpack_require__(36),fetch=__webpack_require__(17),transports=__webpack_require__(37),{RPCCommands,RPCEvents,RelationshipTypes}=__webpack_require__(19),{pid:getPid,uuid}=__webpack_require__(11);function subKey(event,args){return`${event}${JSON.stringify(args)}`}module.exports=class RPCClient extends EventEmitter{constructor(options={}){super(),this.options=options,this.accessToken=null,this.clientId=null,this.application=null,this.user=null;const Transport=transports[options.transport];if(!Transport)throw new TypeError("RPC_INVALID_TRANSPORT",options.transport);this.fetch=(method,path,{data,query}={})=>fetch(`${this.fetch.endpoint}${path}${query?new URLSearchParams(query):""}`,{method,body:data,headers:{Authorization:`Bearer ${this.accessToken}`}}).then(r=>r.json()),this.fetch.endpoint="https://discordapp.com/api",this.transport=new Transport(this),this.transport.on("message",this._onRpcMessage.bind(this)),this._expecting=new Map,this._subscriptions=new Map,this._connectPromise=void 0}connect(clientId){return this._connectPromise?this._connectPromise:(this._connectPromise=new Promise((resolve,reject)=>{this.clientId=clientId;const timeout=setTimeout(()=>reject(new Error("RPC_CONNECTION_TIMEOUT")),1e4);timeout.unref(),this.once("connected",()=>{clearTimeout(timeout),resolve(this)}),this.transport.once("close",()=>{this.emit("disconnected"),reject()}),this.transport.connect().catch(reject)}),this._connectPromise)}async login(options={}){let{clientId,accessToken}=options;return await this.connect(clientId),options.scopes?(accessToken||(accessToken=await this.authorize(options)),this.authenticate(accessToken)):(this.emit("ready"),this)}request(cmd,args,evt){return new Promise((resolve,reject)=>{const nonce=uuid();this.transport.send({cmd,args,evt,nonce}),this._expecting.set(nonce,{resolve,reject})})}_onRpcMessage(message){if(message.cmd===RPCCommands.DISPATCH&&message.evt===RPCEvents.READY)message.data.user&&(this.user=message.data.user),this.emit("connected");else if(this._expecting.has(message.nonce)){const{resolve,reject}=this._expecting.get(message.nonce);if("ERROR"===message.evt){const e=new Error(message.data.message);e.code=message.data.code,e.data=message.data,reject(e)}else resolve(message.data);this._expecting.delete(message.nonce)}else{const subid=subKey(message.evt,message.args);if(!this._subscriptions.has(subid))return;this._subscriptions.get(subid)(message.data)}}async authorize({scopes,clientSecret,rpcToken,redirectUri}={}){if(clientSecret&&!0===rpcToken){rpcToken=(await this.fetch("POST","/oauth2/token/rpc",{data:new URLSearchParams({client_id:this.clientId,client_secret:clientSecret})})).rpc_token}const{code}=await this.request("AUTHORIZE",{scopes,client_id:this.clientId,rpc_token:rpcToken,redirect_uri:redirectUri});return(await this.fetch("POST","/oauth2/token",{data:new URLSearchParams({client_id:this.clientId,client_secret:clientSecret,code,grant_type:"authorization_code",redirect_uri:redirectUri})})).access_token}authenticate(accessToken){return this.request("AUTHENTICATE",{access_token:accessToken}).then(({application,user})=>(this.accessToken=accessToken,this.application=application,this.user=user,this.emit("ready"),this))}getGuild(id,timeout){return this.request(RPCCommands.GET_GUILD,{guild_id:id,timeout})}getGuilds(timeout){return this.request(RPCCommands.GET_GUILDS,{timeout})}getChannel(id,timeout){return this.request(RPCCommands.GET_CHANNEL,{channel_id:id,timeout})}async getChannels(id,timeout){const{channels}=await this.request(RPCCommands.GET_CHANNELS,{timeout,guild_id:id});return channels}setCertifiedDevices(devices){return this.request(RPCCommands.SET_CERTIFIED_DEVICES,{devices:devices.map(d=>({type:d.type,id:d.uuid,vendor:d.vendor,model:d.model,related:d.related,echo_cancellation:d.echoCancellation,noise_suppression:d.noiseSuppression,automatic_gain_control:d.automaticGainControl,hardware_mute:d.hardwareMute}))})}setUserVoiceSettings(id,settings){return this.request(RPCCommands.SET_USER_VOICE_SETTINGS,{user_id:id,pan:settings.pan,mute:settings.mute,volume:settings.volume})}selectVoiceChannel(id,{timeout,force=!1}={}){return this.request(RPCCommands.SELECT_VOICE_CHANNEL,{channel_id:id,timeout,force})}selectTextChannel(id,{timeout,force=!1}={}){return this.request(RPCCommands.SELECT_TEXT_CHANNEL,{channel_id:id,timeout,force})}getVoiceSettings(){return this.request(RPCCommands.GET_VOICE_SETTINGS).then(s=>({automaticGainControl:s.automatic_gain_control,echoCancellation:s.echo_cancellation,noiseSuppression:s.noise_suppression,qos:s.qos,silenceWarning:s.silence_warning,deaf:s.deaf,mute:s.mute,input:{availableDevices:s.input.available_devices,device:s.input.device_id,volume:s.input.volume},output:{availableDevices:s.output.available_devices,device:s.output.device_id,volume:s.output.volume},mode:{type:s.mode.type,autoThreshold:s.mode.auto_threshold,threshold:s.mode.threshold,shortcut:s.mode.shortcut,delay:s.mode.delay}}))}setVoiceSettings(args){return this.request(RPCCommands.SET_VOICE_SETTINGS,{automatic_gain_control:args.automaticGainControl,echo_cancellation:args.echoCancellation,noise_suppression:args.noiseSuppression,qos:args.qos,silence_warning:args.silenceWarning,deaf:args.deaf,mute:args.mute,input:args.input?{device_id:args.input.device,volume:args.input.volume}:void 0,output:args.output?{device_id:args.output.device,volume:args.output.volume}:void 0,mode:args.mode?{mode:args.mode.type,auto_threshold:args.mode.autoThreshold,threshold:args.mode.threshold,shortcut:args.mode.shortcut,delay:args.mode.delay}:void 0})}captureShortcut(callback){const subid=subKey(RPCEvents.CAPTURE_SHORTCUT_CHANGE),stop=()=>(this._subscriptions.delete(subid),this.request(RPCCommands.CAPTURE_SHORTCUT,{action:"STOP"}));return this._subscriptions.set(subid,({shortcut})=>{callback(shortcut,stop)}),this.request(RPCCommands.CAPTURE_SHORTCUT,{action:"START"}).then(()=>stop)}setActivity(args={},pid=getPid()){let timestamps,assets,party,secrets;if(args.startTimestamp||args.endTimestamp){if((timestamps={start:args.startTimestamp,end:args.endTimestamp}).start instanceof Date&&(timestamps.start=Math.round(timestamps.start.getTime())),timestamps.end instanceof Date&&(timestamps.end=Math.round(timestamps.end.getTime())),timestamps.start>2147483647e3)throw new RangeError("timestamps.start must fit into a unix timestamp");if(timestamps.end>2147483647e3)throw new RangeError("timestamps.end must fit into a unix timestamp")}return(args.largeImageKey||args.largeImageText||args.smallImageKey||args.smallImageText)&&(assets={large_image:args.largeImageKey,large_text:args.largeImageText,small_image:args.smallImageKey,small_text:args.smallImageText}),(args.partySize||args.partyId||args.partyMax)&&(party={id:args.partyId},(args.partySize||args.partyMax)&&(party.size=[args.partySize,args.partyMax])),(args.matchSecret||args.joinSecret||args.spectateSecret)&&(secrets={match:args.matchSecret,join:args.joinSecret,spectate:args.spectateSecret}),this.request(RPCCommands.SET_ACTIVITY,{pid,activity:{state:args.state,details:args.details,timestamps,assets,party,secrets,instance:!!args.instance}})}clearActivity(pid=getPid()){return this.request(RPCCommands.SET_ACTIVITY,{pid})}sendJoinInvite(user){return this.request(RPCCommands.SEND_ACTIVITY_JOIN_INVITE,{user_id:user.id||user})}sendJoinRequest(user){return this.request(RPCCommands.SEND_ACTIVITY_JOIN_REQUEST,{user_id:user.id||user})}closeJoinRequest(user){return this.request(RPCCommands.CLOSE_ACTIVITY_JOIN_REQUEST,{user_id:user.id||user})}createLobby(type,capacity,metadata){return this.request(RPCCommands.CREATE_LOBBY,{type,capacity,metadata})}updateLobby(lobby,{type,owner,capacity,metadata}={}){return this.request(RPCCommands.UPDATE_LOBBY,{id:lobby.id||lobby,type,owner_id:owner&&owner.id||owner,capacity,metadata})}deleteLobby(lobby){return this.request(RPCCommands.DELETE_LOBBY,{id:lobby.id||lobby})}connectToLobby(id,secret){return this.request(RPCCommands.CONNECT_TO_LOBBY,{id,secret})}sendToLobby(lobby,data){return this.request(RPCCommands.SEND_TO_LOBBY,{id:lobby.id||lobby,data})}disconnectFromLobby(lobby){return this.request(RPCCommands.DISCONNECT_FROM_LOBBY,{id:lobby.id||lobby})}updateLobbyMember(lobby,user,metadata){return this.request(RPCCommands.UPDATE_LOBBY_MEMBER,{lobby_id:lobby.id||lobby,user_id:user.id||user,metadata})}getRelationships(){const types=Object.keys(RelationshipTypes);return this.request(RPCCommands.GET_RELATIONSHIPS).then(o=>o.relationships.map(r=>({...r,type:types[r.type]})))}subscribe(event,args,callback){return callback||"function"!=typeof args||(callback=args,args=void 0),this.request(RPCCommands.SUBSCRIBE,args,event).then(()=>{const subid=subKey(event,args);return this._subscriptions.set(subid,callback),{unsubscribe:()=>this.request(RPCCommands.UNSUBSCRIBE,args,event).then(()=>this._subscriptions.delete(subid))}})}async destroy(){this.transport.close()}}},function(module,exports){module.exports=require("timers")},function(module,exports,__webpack_require__){"use strict";module.exports={ipc:__webpack_require__(38),websocket:__webpack_require__(39)}},function(module,exports,__webpack_require__){"use strict";const net=__webpack_require__(18),EventEmitter=__webpack_require__(4),fetch=__webpack_require__(17),{uuid}=__webpack_require__(11),OPCodes={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function getIPC(id=0){return new Promise((resolve,reject)=>{const path=function getIPCPath(id){if("win32"===process.platform)return`\\\\?\\pipe\\discord-ipc-${id}`;const{env:{XDG_RUNTIME_DIR,TMPDIR,TMP,TEMP}}=process;return`${(XDG_RUNTIME_DIR||TMPDIR||TMP||TEMP||"/tmp").replace(/\/$/,"")}/discord-ipc-${id}`}(id),onerror=()=>{id<10?resolve(getIPC(id+1)):reject(new Error("Could not connect"))},sock=net.createConnection(path,()=>{sock.removeListener("error",onerror),resolve(sock)});sock.once("error",onerror)})}function encode(op,data){data=JSON.stringify(data);const len=Buffer.byteLength(data),packet=Buffer.alloc(8+len);return packet.writeInt32LE(op,0),packet.writeInt32LE(len,4),packet.write(data,8,len),packet}const working={full:"",op:void 0};function decode(socket,callback){const packet=socket.read();if(!packet)return;let raw,{op}=working;if(""===working.full){op=working.op=packet.readInt32LE(0);const len=packet.readInt32LE(4);raw=packet.slice(8,len+8)}else raw=packet.toString();try{callback({op,data:JSON.parse(working.full+raw)}),working.full="",working.op=void 0}catch(err){working.full+=raw}decode(socket,callback)}module.exports=class IPCTransport extends EventEmitter{constructor(client){super(),this.client=client,this.socket=null}async connect(){const socket=this.socket=await getIPC();socket.on("close",this.onClose.bind(this)),socket.on("error",this.onClose.bind(this)),this.emit("open"),socket.write(encode(OPCodes.HANDSHAKE,{v:1,client_id:this.client.clientId})),socket.pause(),socket.on("readable",()=>{decode(socket,({op,data})=>{switch(op){case OPCodes.PING:this.send(data,OPCodes.PONG);break;case OPCodes.FRAME:if(!data)return;"AUTHORIZE"===data.cmd&&"ERROR"!==data.evt&&async function findEndpoint(tries=0){if(tries>30)throw new Error("Could not find endpoint");const endpoint=`http://127.0.0.1:${6463+tries%10}`;try{return 401!==(await fetch(endpoint)).status?findEndpoint(tries+1):endpoint}catch(e){return findEndpoint(tries+1)}}().then(endpoint=>{this.client.request.endpoint=endpoint}),this.emit("message",data);break;case OPCodes.CLOSE:this.emit("close",data)}})})}onClose(e){this.emit("close",e)}send(data,op=OPCodes.FRAME){this.socket.write(encode(op,data))}close(){this.send({},OPCodes.CLOSE),this.socket.end()}ping(){this.send(uuid(),OPCodes.PING)}},module.exports.encode=encode,module.exports.decode=decode},function(module,exports,__webpack_require__){"use strict";const EventEmitter=__webpack_require__(4),{browser}=__webpack_require__(19),WebSocket=browser?window.WebSocket:__webpack_require__(40),pack=d=>JSON.stringify(d),unpack=s=>JSON.parse(s);module.exports=class WebSocketTransport extends EventEmitter{constructor(client){super(),this.client=client,this.ws=null,this.tries=0}async connect(options,tries=this.tries){if(this.connected)return;const port=6463+tries%10;this.hostAndPort=`127.0.0.1:${port}`;const ws=this.ws=new WebSocket(`ws://${this.hostAndPort}/?v=1&client_id=${this.client.clientId}`);ws.onopen=this.onOpen.bind(this),ws.onclose=ws.onerror=this.onClose.bind(this),ws.onmessage=this.onMessage.bind(this)}send(data){this.ws&&this.ws.send(pack(data))}close(){this.ws&&this.ws.close()}ping(){}onMessage(event){this.emit("message",unpack(event.data))}onOpen(){this.emit("open")}onClose(e){try{this.ws.close()}catch(err){}const derr=e.code>=4e3&&e.code<5e3;e.code&&!derr||this.emit("close",e),derr||setTimeout(()=>this.connect(void 0,1006===e.code?++this.tries:0),250)}}},function(module,exports,__webpack_require__){"use strict";const WebSocket=__webpack_require__(20);WebSocket.Server=__webpack_require__(49),WebSocket.Receiver=__webpack_require__(23),WebSocket.Sender=__webpack_require__(25),module.exports=WebSocket},function(module,exports){module.exports=require("tls")},function(module,exports,__webpack_require__){"use strict";function Queue(options){if(!(this instanceof Queue))return new Queue(options);options=options||{},this.concurrency=options.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=function done(){this.pending--,this._run()}.bind(this)}["push","unshift","splice"].forEach(function(method){Queue.prototype[method]=function(){var methodResult=Array.prototype[method].apply(this.jobs,arguments);return this._run(),methodResult}}),Object.defineProperty(Queue.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),Queue.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var job=this.jobs.shift();this.pending++,job(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var cb=this.cbs.pop();process.nextTick(cb)}}},Queue.prototype.onDone=function(cb){"function"==typeof cb&&(this.cbs.push(cb),this._run())},module.exports=Queue},function(module,exports,__webpack_require__){"use strict";(function(__dirname){try{module.exports=__webpack_require__(21)(__dirname)}catch(e){module.exports=__webpack_require__(45)}}).call(this,"/")},function(module,exports){module.exports=require("os")},function(module,exports,__webpack_require__){"use strict";module.exports={mask:(source,mask,output,offset,length)=>{for(var i=0;i<length;i++)output[offset+i]=source[i]^mask[3&i]},unmask:(buffer,mask)=>{const length=buffer.length;for(var i=0;i<length;i++)buffer[i]^=mask[3&i]}}},function(module,exports,__webpack_require__){"use strict";class Event{constructor(type,target){this.target=target,this.type=type}}class MessageEvent extends Event{constructor(data,target){super("message",target),this.data=data}}class CloseEvent extends Event{constructor(code,reason,target){super("close",target),this.wasClean=target._closeFrameReceived&&target._closeFrameSent,this.reason=reason,this.code=code}}class OpenEvent extends Event{constructor(target){super("open",target)}}class ErrorEvent extends Event{constructor(error,target){super("error",target),this.message=error.message,this.error=error}}const EventTarget={addEventListener(method,listener){function onMessage(data){listener.call(this,new MessageEvent(data,this))}function onClose(code,message){listener.call(this,new CloseEvent(code,message,this))}function onError(error){listener.call(this,new ErrorEvent(error,this))}function onOpen(){listener.call(this,new OpenEvent(this))}"function"==typeof listener&&("message"===method?(onMessage._listener=listener,this.on(method,onMessage)):"close"===method?(onClose._listener=listener,this.on(method,onClose)):"error"===method?(onError._listener=listener,this.on(method,onError)):"open"===method?(onOpen._listener=listener,this.on(method,onOpen)):this.on(method,listener))},removeEventListener(method,listener){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)listeners[i]!==listener&&listeners[i]._listener!==listener||this.removeListener(method,listeners[i])}};module.exports=EventTarget},function(module,exports,__webpack_require__){"use strict";(function(__dirname){try{module.exports=__webpack_require__(21)(__dirname)}catch(e){module.exports=__webpack_require__(48)}}).call(this,"/")},function(module,exports,__webpack_require__){"use strict";module.exports=buf=>{for(var len=buf.length,i=0;i<len;)if(buf[i]<128)i++;else if(192==(224&buf[i])){if(i+1===len||128!=(192&buf[i+1])||192==(254&buf[i]))return!1;i+=2}else if(224==(240&buf[i])){if(i+2>=len||128!=(192&buf[i+1])||128!=(192&buf[i+2])||224===buf[i]&&128==(224&buf[i+1])||237===buf[i]&&160==(224&buf[i+1]))return!1;i+=3}else{if(240!=(248&buf[i]))return!1;if(i+3>=len||128!=(192&buf[i+1])||128!=(192&buf[i+2])||128!=(192&buf[i+3])||240===buf[i]&&128==(240&buf[i+1])||244===buf[i]&&buf[i+1]>143||buf[i]>244)return!1;i+=4}return!0}},function(module,exports,__webpack_require__){"use strict";const EventEmitter=__webpack_require__(4),crypto=__webpack_require__(12),http=__webpack_require__(7),PerMessageDeflate=__webpack_require__(9),extension=__webpack_require__(22),WebSocket=__webpack_require__(20),{GUID}=__webpack_require__(5),keyRegex=/^[+\/0-9A-Za-z]{22}==$/;function emitClose(server){server.emit("close")}function socketOnError(){this.destroy()}function abortHandshake(socket,code,message,headers){socket.writable&&(message=message||http.STATUS_CODES[code],headers=Object.assign({Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(message)},headers),socket.write(`HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\r\n`+Object.keys(headers).map(h=>`${h}: ${headers[h]}`).join("\r\n")+"\r\n\r\n"+message)),socket.removeListener("error",socketOnError),socket.destroy()}module.exports=class WebSocketServer extends EventEmitter{constructor(options,callback){if(super(),null==(options=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},options)).port&&!options.server&&!options.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=options.port?(this._server=http.createServer((req,res)=>{const body=http.STATUS_CODES[426];res.writeHead(426,{"Content-Length":body.length,"Content-Type":"text/plain"}),res.end(body)}),this._server.listen(options.port,options.host,options.backlog,callback)):options.server&&(this._server=options.server),this._server&&(this._removeListeners=function addListeners(server,map){for(const event of Object.keys(map))server.on(event,map[event]);return function removeListeners(){for(const event of Object.keys(map))server.removeListener(event,map[event])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(req,socket,head)=>{this.handleUpgrade(req,socket,head,ws=>{this.emit("connection",ws,req)})}})),!0===options.perMessageDeflate&&(options.perMessageDeflate={}),options.clientTracking&&(this.clients=new Set),this.options=options}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(cb){if(cb&&this.once("close",cb),this.clients)for(const client of this.clients)client.terminate();const server=this._server;server&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?server.close(()=>this.emit("close")):process.nextTick(emitClose,this)}shouldHandle(req){if(this.options.path){const index=req.url.indexOf("?");if((-1!==index?req.url.slice(0,index):req.url)!==this.options.path)return!1}return!0}handleUpgrade(req,socket,head,cb){socket.on("error",socketOnError);const key=void 0!==req.headers["sec-websocket-key"]&&req.headers["sec-websocket-key"].trim(),version=+req.headers["sec-websocket-version"],extensions={};if("GET"!==req.method||"websocket"!==req.headers.upgrade.toLowerCase()||!key||!keyRegex.test(key)||8!==version&&13!==version||!this.shouldHandle(req))return abortHandshake(socket,400);if(this.options.perMessageDeflate){const perMessageDeflate=new PerMessageDeflate(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const offers=extension.parse(req.headers["sec-websocket-extensions"]);offers[PerMessageDeflate.extensionName]&&(perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]),extensions[PerMessageDeflate.extensionName]=perMessageDeflate)}catch(err){return abortHandshake(socket,400)}}if(this.options.verifyClient){const info={origin:req.headers[`${8===version?"sec-websocket-origin":"origin"}`],secure:!(!req.connection.authorized&&!req.connection.encrypted),req};if(2===this.options.verifyClient.length)return void this.options.verifyClient(info,(verified,code,message,headers)=>{if(!verified)return abortHandshake(socket,code||401,message,headers);this.completeUpgrade(key,extensions,req,socket,head,cb)});if(!this.options.verifyClient(info))return abortHandshake(socket,401)}this.completeUpgrade(key,extensions,req,socket,head,cb)}completeUpgrade(key,extensions,req,socket,head,cb){if(!socket.readable||!socket.writable)return socket.destroy();const headers=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${crypto.createHash("sha1").update(key+GUID).digest("base64")}`],ws=new WebSocket(null);var protocol=req.headers["sec-websocket-protocol"];if(protocol&&(protocol=protocol.trim().split(/ *, */),(protocol=this.options.handleProtocols?this.options.handleProtocols(protocol,req):protocol[0])&&(headers.push(`Sec-WebSocket-Protocol: ${protocol}`),ws.protocol=protocol)),extensions[PerMessageDeflate.extensionName]){const params=extensions[PerMessageDeflate.extensionName].params,value=extension.format({[PerMessageDeflate.extensionName]:[params]});headers.push(`Sec-WebSocket-Extensions: ${value}`),ws._extensions=extensions}this.emit("headers",headers,req),socket.write(headers.concat("\r\n").join("\r\n")),socket.removeListener("error",socketOnError),ws.setSocket(socket,head,this.options.maxPayload),this.clients&&(this.clients.add(ws),ws.on("close",()=>this.clients.delete(ws))),cb(ws)}}},function(module){module.exports=JSON.parse('{"name":"vsls","displayName":"VS Live Share extension API","description":"Enables VS Code extensions to access Live Share capabilities.","version":"0.3.1291","publisher":"ms-vsliveshare","main":"vscode.js","preview":true,"license":"SEE LICENSE IN LICENSE.txt","homepage":"https://aka.ms/vsls","bugs":{"url":"https://aka.ms/vsls-issues","email":"vsls-feedback@microsoft.com"},"author":{"name":"Microsoft"},"keywords":["Live Share"],"categories":["Other"],"repository":{"url":"https://github.com/MicrosoftDocs/live-share"}}')},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const fs_1=__webpack_require__(2),path_1=__webpack_require__(1),vscode_1=__webpack_require__(6),vsls=__webpack_require__(26),lang=__webpack_require__(52),knownExtentions=lang.knownExtentions,knownLanguages=lang.knownLanguages,empty="",sizes=[" bytes","kb","mb","gb","tb"];exports.default=class Activity{constructor(){this._state=null,this._config=vscode_1.workspace.getConfiguration("discord"),this._lastKnownFile=""}get state(){return this._state}generate(workspaceElapsedTime=!1){let largeImageKey="vscode-big";if(vscode_1.window.activeTextEditor){if("Log"===vscode_1.window.activeTextEditor.document.languageId)return this._state;if(vscode_1.window.activeTextEditor.document.fileName===this._lastKnownFile)return this._state=Object.assign({},this._state,{details:this._generateDetails("detailsDebugging","detailsEditing","detailsIdle",this._state.largeImageKey),smallImageKey:vscode_1.debug.activeDebugSession?"debug":vscode_1.env.appName.includes("Insiders")?"vscode-insiders":"vscode",state:this._generateDetails("lowerDetailsDebugging","lowerDetailsEditing","lowerDetailsIdle",this._state.largeImageKey)});this._lastKnownFile=vscode_1.window.activeTextEditor.document.fileName;const filename=path_1.basename(vscode_1.window.activeTextEditor.document.fileName);largeImageKey=knownExtentions[Object.keys(knownExtentions).find(key=>{if(filename.endsWith(key))return!0;const match=key.match(/^\/(.*)\/([mgiy]+)$/);return!!match&&new RegExp(match[1],match[2]).test(filename)})]||(knownLanguages.includes(vscode_1.window.activeTextEditor.document.languageId)?vscode_1.window.activeTextEditor.document.languageId:null)}let previousTimestamp=null;return this._state&&this._state.startTimestamp&&(previousTimestamp=this._state.startTimestamp),this._state=Object.assign({},this._state,{details:this._generateDetails("detailsDebugging","detailsEditing","detailsIdle",largeImageKey),startTimestamp:vscode_1.window.activeTextEditor&&previousTimestamp&&workspaceElapsedTime?previousTimestamp:vscode_1.window.activeTextEditor?(new Date).getTime():null,state:this._generateDetails("lowerDetailsDebugging","lowerDetailsEditing","lowerDetailsIdle",largeImageKey),largeImageKey:largeImageKey?largeImageKey.image||largeImageKey:"txt",largeImageText:vscode_1.window.activeTextEditor?this._config.get("largeImage").replace("{lang}",largeImageKey?largeImageKey.image||largeImageKey:"txt").replace("{Lang}",largeImageKey?(largeImageKey.image||largeImageKey).toLowerCase().replace(/^\w/,c=>c.toUpperCase()):"Txt").replace("{LANG}",largeImageKey?(largeImageKey.image||largeImageKey).toUpperCase():"TXT")||vscode_1.window.activeTextEditor.document.languageId.padEnd(2,""):this._config.get("largeImageIdle"),smallImageKey:vscode_1.debug.activeDebugSession?"debug":vscode_1.env.appName.includes("Insiders")?"vscode-insiders":"vscode",smallImageText:this._config.get("smallImage").replace("{appname}",vscode_1.env.appName)}),this._state}async allowSpectate(){if(!this._state)return;const liveshare=await vsls.getApi();if(!liveshare)return;const join=await liveshare.share({suppressNotification:!0,access:vsls.Access.ReadOnly});return this._state=Object.assign({},this._state,{spectateSecret:join?Buffer.from(join.toString()).toString("base64"):void 0,instance:!0}),this._state}async disableSpectate(){if(!this._state)return;const liveshare=await vsls.getApi();return liveshare?(await liveshare.end(),delete this._state.spectateSecret,this._state.instance=!1,this._state):void 0}async allowJoinRequests(){if(!this._state)return;const liveshare=await vsls.getApi();if(!liveshare)return;const join=await liveshare.share({suppressNotification:!0});return this._state=Object.assign({},this._state,{partyId:join?join.query:void 0,partySize:1,partyMax:5,joinSecret:join?Buffer.from(join.toString()).toString("base64"):void 0,instance:!0}),this._state}async disableJoinRequests(){if(!this._state)return;const liveshare=await vsls.getApi();return liveshare?(await liveshare.end(),delete this._state.partyId,delete this._state.partySize,delete this._state.partyMax,delete this._state.joinSecret,this._state.instance=!1,this._state):void 0}changePartyId(id){if(this._state)return id?(this._state=Object.assign({},this._state,{partyId:id,partySize:this._state.partySize?this._state.partySize+1:1,partyMax:5,instance:!0}),this._state):(delete this._state.partyId,delete this._state.partySize,delete this._state.partyMax,this._state.instance=!1,this._state)}increasePartySize(size){if(this._state&&(!this.state||5!==this._state.partySize))return this._state=Object.assign({},this._state,{partySize:this._state.partySize?this._state.partySize+1:size}),this._state}decreasePartySize(size){if(this._state&&(!this.state||1!==this._state.partySize))return this._state=Object.assign({},this._state,{partySize:this._state.partySize?this._state.partySize-1:size}),this._state}dispose(){this._state=null,this._lastKnownFile=""}_generateDetails(debugging,editing,idling,largeImageKey){let raw=this._config.get(idling).replace("{null}",empty),filename=null,dirname=null,checkState=!1,workspaceFolder=null,fullDirname=null;if(vscode_1.window.activeTextEditor){filename=path_1.basename(vscode_1.window.activeTextEditor.document.fileName);const{dir}=path_1.parse(vscode_1.window.activeTextEditor.document.fileName),split=dir.split(path_1.sep);if(dirname=split[split.length-1],workspaceFolder=(checkState=Boolean(vscode_1.workspace.getWorkspaceFolder(vscode_1.window.activeTextEditor.document.uri)))?vscode_1.workspace.getWorkspaceFolder(vscode_1.window.activeTextEditor.document.uri):null){const{name}=workspaceFolder,relativePath=vscode_1.workspace.asRelativePath(vscode_1.window.activeTextEditor.document.fileName).split(path_1.sep);relativePath.splice(-1,1),fullDirname=`${name}${path_1.sep}${relativePath.join(path_1.sep)}`}raw=vscode_1.debug.activeDebugSession?this._config.get(debugging):this._config.get(editing);const{totalLines,size,currentLine,currentColumn}=this._generateFileDetails(raw);raw=raw.replace("{null}",empty).replace("{filename}",filename).replace("{dirname}",dirname).replace("{fulldirname}",fullDirname).replace("{workspace}",checkState&&workspaceFolder?workspaceFolder.name:this._config.get("lowerDetailsNotFound").replace("{null}",empty)).replace("{lang}",largeImageKey?largeImageKey.image||largeImageKey:"txt").replace("{Lang}",largeImageKey?(largeImageKey.image||largeImageKey).toLowerCase().replace(/^\w/,c=>c.toUpperCase()):"Txt").replace("{LANG}",largeImageKey?(largeImageKey.image||largeImageKey).toUpperCase():"TXT"),totalLines&&(raw=raw.replace("{totallines}",totalLines)),size&&(raw=raw.replace("{filesize}",size)),currentLine&&(raw=raw.replace("{currentline}",currentLine)),currentColumn&&(raw=raw.replace("{currentcolumn}",currentColumn))}return raw}_generateFileDetails(str){const fileDetail={};if(!str)return fileDetail;if(vscode_1.window.activeTextEditor&&(str.includes("{totallines}")&&(fileDetail.totalLines=vscode_1.window.activeTextEditor.document.lineCount.toLocaleString()),str.includes("{currentline}")&&(fileDetail.currentLine=(vscode_1.window.activeTextEditor.selection.active.line+1).toLocaleString()),str.includes("{currentcolumn}")&&(fileDetail.currentColumn=(vscode_1.window.activeTextEditor.selection.active.character+1).toLocaleString()),str.includes("{filesize}"))){let currentDivision=0,{size}=fs_1.statSync(vscode_1.window.activeTextEditor.document.fileName);const originalSize=size;if(originalSize>1e3)for(size/=1e3,currentDivision++;size>1e3;)currentDivision++,size/=1e3;fileDetail.size=`${originalSize>1e3?size.toFixed(2):size}${sizes[currentDivision]}`}return fileDetail}}},function(module){module.exports=JSON.parse('{"knownLanguages":["as","asp","assembly","ahk","applescript","appveyor","autoit","babel","bower","brainfuck","gemfile","c","circleci","cargo","cpp","csharp","cshtml","clojure","cmake","coffee","crystal","css","less","stylus","scss","d","dart","dm","manifest","delphi","docker","ejs","elm","erlang","elixir","eslint","env","fsharp","git","go","gradle","graphql","gulp","harbour","handlebars","haskell","html","haxe","ini","pug","jar","jest","java","julia","js","jsx","json","kotlin","lisp","log","lua","makefile","markdown","markdownx","marko","nim","nix","objc","ocaml","pascal","pawn","perl","php","powershell","purescript","python","postcss","r","reasonml","ruby","rust","scala","shell","sql","svg","svelte","swift","tex","toml","ts","tsx","twig","text","travis","typescript-def","vb","vba","vbhtml","vbproj","vcxproj","vscodeignore","vue","xml","yaml","yarn","bat","wasm","webpack"],"knownExtentions":{".swf":{"image":"as"},".as":{"image":"as"},".jsfl":{"image":"as"},".swc":{"image":"as"},"/(\\\\.)?angular(-cli)?\\\\.json/i":{"image":"angular"},"/angular.(component|guard|service|pipe|filter|directive|resolver).(ts|js)/i":{"image":"angular"},"androidmanifest.xml":{"image":"android"},".asp":{"image":"asp"},".asax":{"image":"asp"},".ascx":{"image":"asp"},".ashx":{"image":"asp"},".asmx":{"image":"asp"},".aspx":{"image":"asp"},".axd":{"image":"asp"},"/\\\\.(l?a|[ls]?o|out|s|a51|asm|axf|elf|prx|puff|z80)$/i":{"image":"assembly"},".agc":{"image":"assembly"},".ko":{"image":"assembly"},".lst":{"image":"assembly"},"/\\\\.((c([+px]{2}?)?-?)?objdump|bsdiff|bin|dat|pak|pdb)$/i":{"image":"assembly"},".d-objdump":{"image":"assembly"},"/gruntfile\\\\.(js|coffee)/i":{"image":"gruntfile"},"/\\\\.gcode|\\\\.gco/i":{"image":"assembly"},"/\\\\.rpy[bc]$/i":{"image":"assembly"},"/\\\\.py[co]$/i":{"image":"assembly"},".swp":{"image":"assembly"},".DS_Store":{"image":"assembly"},".ahk":{"image":"ahk"},".ahkl":{"image":"ahk"},".applescript":{"image":"applescript"},".au3":{"image":"autoit"},"/^(\\\\.bowerrc|bower\\\\.json|Bowerfile)$/i":{"image":"bower"},"/\\\\.bf?$/i":{"image":"brainfuck"},"/^Gemfile(\\\\.lock)?$/i":{"image":"gemfile"},".c":{"image":"c"},"/\\\\.c[+px]{2}$|\\\\.cc$/i":{"image":"cpp"},"/\\\\.h[+px]{2}$/i":{"image":"cpp"},"/\\\\.[it]pp$/i":{"image":"cpp"},"/\\\\.(tcc|inl)$/i":{"image":"cpp"},".cats":{"image":"cpp"},"/(cargo.toml|cargo.lock)/i":{"image":"cargo"},"circle.yml":{"image":"circleci"},"/\\\\.codeclimate\\\\.(yml|json)/i":{"image":"codeclimate"},".idc":{"image":"cpp"},".w":{"image":"cpp"},"/webpack(\\\\.dev|\\\\.development|\\\\.prod|\\\\.production)?\\\\.config\\\\.js/i":{"image":"webpack"},".nc":{"image":"cpp"},".npmrc":{"image":"npm"},".upc":{"image":"cpp"},".xpm":{"image":"cpp"},".cs":{"image":"csharp"},".csx":{"image":"csharp"},".cshtml":{"image":"cshtml"},".clj":{"image":"clojure"},".cl2":{"image":"clojure"},".cljc":{"image":"clojure"},".cljx":{"image":"clojure"},".hic":{"image":"clojure"},"/\\\\.cljs(cm)?$/i":{"image":"clojure"},".cmake":{"image":"cmake"},"/^CMakeLists\\\\.txt$/":{"image":"cmake"},".coffee":{"image":"coffee"},".cjsx":{"image":"coffee"},".coffee.ecr":{"image":"coffee"},".coffee.erb":{"image":"coffee"},".litcoffee":{"image":"coffee"},".ls":{"image":"livescript"},".iced":{"image":"coffee"},"/\\\\.e?cr$/i":{"image":"crystal"},".css.map":{"image":"cssmap"},".css":{"image":"css"},".cu":{"image":"cuda"},".less":{"image":"less"},"/\\\\.(styl|stylus)$/i":{"image":"stylus"},".scss":{"image":"scss"},".sass":{"image":"scss"},"/\\\\.di?$/i":{"image":"d"},".dart":{"image":"dart"},".dm":{"image":"dm"},".dme":{"image":"dm"},".dmm":{"image":"dm"},"/\\\\.(h|geo|topo)$/i":{"image":"manifest"},".cson":{"image":"manifest"},"/(\\\\.firebaserc|firebase\\\\.json)/i":{"image":"firebase"},".json5":{"image":"manifest"},".http":{"image":"http"},".ndjson":{"image":"manifest"},"nodemon.json":{"image":"nodemon"},".fea":{"image":"manifest"},".flowconfig":{"image":"flowconfig"},".json.eex":{"image":"manifest"},"prisma.yml":{"image":"prisma"},".prettierignore":{"image":"prettier"},"/\\\\.prettier((rc)|(\\\\.(toml|yml|yaml|json|js))?$){2}/i":{"image":"prettier"},"prettier.config.js":{"image":"prettier"},".proto":{"image":"manifest"},"/^procfile/i":{"image":"heroku"},".pytb":{"image":"manifest"},".pydeps":{"image":"manifest"},"/\\\\.pot?$/i":{"image":"manifest"},".pcss":{"image":"postcss"},".ejson":{"image":"manifest"},".editorconfig":{"image":"editorconfig"},".edn":{"image":"manifest"},".eam.fs":{"image":"manifest"},".qml":{"image":"manifest"},".qbs":{"image":"manifest"},".ston":{"image":"manifest"},".ttl":{"image":"manifest"},".travis.yml":{"image":"travis"},".rest":{"image":"http"},".rviz":{"image":"manifest"},".syntax":{"image":"manifest"},".webmanifest":{"image":"manifest"},"/^pkginfo$/":{"image":"manifest"},"/^mime\\\\.types$/i":{"image":"manifest"},"/^METADATA\\\\.pb$/":{"image":"manifest"},"/[\\\\/\\\\\\\\](?:magic[\\\\/\\\\\\\\]Magdir|file[\\\\/\\\\\\\\]magic)[\\\\/\\\\\\\\][-.\\\\w]+$/i":{"image":"manifest"},"/(\\\\\\\\|\\\\/)dev[-\\\\w]+\\\\1(?:[^\\\\\\\\\\\\/]+\\\\1)*(?!DESC|NOTES)(?:[A-Z][-A-Z]*)(?:\\\\.in)?$/":{"image":"manifest"},"lib/icons/.icondb.js":{"image":"manifest"},"/\\\\.git[\\\\/\\\\\\\\](.*[\\\\/\\\\\\\\])?(HEAD|ORIG_HEAD|packed-refs|logs[\\\\/\\\\\\\\](.+[\\\\/\\\\\\\\])?[^\\\\/\\\\\\\\]+)$/":{"image":"manifest"},"/gatsby-(browser|node|ssr|config)\\\\.js/i":{"image":"gatsbyjs"},".dfm":{"image":"delphi"},".dpr":{"image":"delphi"},"/^(Dockerfile|docker-compose)|\\\\.docker(file|ignore)$/i":{"image":"docker"},"/^docker-sync\\\\.yml$/i":{"image":"docker"},".ejs":{"image":"ejs"},".elm":{"image":"elm"},".erl":{"image":"erlang"},".beam":{"image":"erlang"},".hrl":{"image":"erlang"},".xrl":{"image":"erlang"},".yrl":{"image":"erlang"},".app.src":{"image":"erlang"},"/(\\\\.)?appveyor\\\\.yml/i":{"image":"appveyor"},"/^Emakefile$/":{"image":"erlang"},"/^rebar(\\\\.config)?\\\\.lock$/i":{"image":"erlang"},".ex":{"image":"elixir"},"/\\\\.(exs|eex)$/i":{"image":"elixir"},"/^mix\\\\.(exs?|lock)$/i":{"image":"elixir"},".fs":{"image":"fsharp"},".fsi":{"image":"fsharp"},".fsscript":{"image":"fsharp"},".fsx":{"image":"fsharp"},"/^\\\\.git|^\\\\.keep$|\\\\.mailmap$/i":{"image":"git"},".go":{"image":"go"},".gradle":{"image":"gradle"},"gradlew":{"image":"gradle"},".gql":{"image":"graphql"},".graphql":{"image":"graphql"},"gulpfile.js":{"image":"gulp"},"/\\\\.(hbs|handlebars|(mu)?stache)$/i":{"image":"handlebars"},".hs":{"image":"haskell"},".hsc":{"image":"haskell"},".c2hs":{"image":"haskell"},".lhs":{"image":"haskell"},"/\\\\.x?html?$/i":{"image":"html"},".hx":{"image":"haxe"},".hxml":{"image":"haxe"},".prg":{"image":"harbour"},".hbp":{"image":"harbour"},".hbc":{"image":"harbour"},".rc":{"image":"harbour"},".fmg":{"image":"harbour"},".jade":{"image":"pug"},".pug":{"image":"pug"},".jar":{"image":"jar"},".java":{"image":"java"},"/\\\\.(jil|jl)/i":{"image":"julia"},"babel.config.js":{"image":"babel"},"jest.config.js":{"image":"jest"},".js.map":{"image":"jsmap"},".js":{"image":"js"},".es6":{"image":"js"},".es":{"image":"js"},".env":{"image":"env"},".mjs":{"image":"js"},".jsx":{"image":"jsx"},".json":{"image":"json"},".kt":{"image":"kotlin"},".ktm":{"image":"kotlin"},".kts":{"image":"kotlin"},".lsp":{"image":"lisp"},".lisp":{"image":"lisp"},".l":{"image":"lisp"},".nl":{"image":"lisp"},".ny":{"image":"lisp"},".podsl":{"image":"lisp"},".sexp":{"image":"lisp"},".log":{"image":"log"},".lua":{"image":"lua"},".pd_lua":{"image":"lua"},".rbxs":{"image":"lua"},".wlua":{"image":"lua"},"/^Makefile/":{"image":"makefile"},"/^mk\\\\.config$/":{"image":"makefile"},"/\\\\.(mk|mak|make)$/i":{"image":"makefile"},"/^BSDmakefile$/i":{"image":"makefile"},"/^GNUmakefile$/i":{"image":"makefile"},"/^makefile\\\\.sco$/i":{"image":"makefile"},"/^Kbuild$/":{"image":"makefile"},"/^makefile$/":{"image":"makefile"},"/^mkfile$/i":{"image":"makefile"},"/^\\\\.?qmake$/i":{"image":"makefile"},"/\\\\.(md|mdown|markdown|mkd|mkdown|mdwn|mkdn|rmd|ron|pmd)$/i":{"image":"markdown"},".mdx":{"image":"markdownx"},".nim":{"image":"nim"},".nims":{"image":"nim"},".nimble":{"image":"nim"},"/\\\\.mm?$/i":{"image":"objc"},".pch":{"image":"objc"},".x":{"image":"objc"},".ml":{"image":"ocaml"},".mli":{"image":"ocaml"},".eliom":{"image":"ocaml"},".eliomi":{"image":"ocaml"},"/\\\\.(eslintrc|eslintignore)/i":{"image":"eslint"},".ml4":{"image":"ocaml"},".mll":{"image":"ocaml"},".mly":{"image":"ocaml"},"/\\\\.pas(cal)?$/i":{"image":"pascal"},".lpr":{"image":"pascal"},"/\\\\.p(er)?l$/i":{"image":"perl"},".al":{"image":"perl"},".ph":{"image":"perl"},".plx":{"image":"perl"},".pm":{"image":"perl"},"/\\\\.(psgi|xs)$/i":{"image":"perl"},".pl6":{"image":"perl"},"/\\\\.[tp]6$|\\\\.6pl$/i":{"image":"perl"},"/\\\\.(pm6|p6m)$/i":{"image":"perl"},".6pm":{"image":"perl"},".nqp":{"image":"perl"},".p6l":{"image":"perl"},".pod6":{"image":"perl"},"/^Rexfile$/":{"image":"perl"},"/\\\\.php([st\\\\d]|_cs)?$/i":{"image":"php"},"/^Phakefile/":{"image":"php"},".ps1":{"image":"powershell"},".psd1":{"image":"powershell"},".psm1":{"image":"powershell"},".ps1xml":{"image":"powershell"},".purs":{"image":"purescript"},".p":{"image":"pawn"},".inc":{"image":"pawn"},".sma":{"image":"pawn"},".ino":{"image":"arduino"},".pwn":{"image":"pawn"},".sp":{"image":"pawn"},".py":{"image":"python"},".ipy":{"image":"python"},".isolate":{"image":"python"},".pep":{"image":"python"},".gyp":{"image":"python"},".gypi":{"image":"python"},".pyde":{"image":"python"},".pyp":{"image":"python"},".pyt":{"image":"python"},".py3":{"image":"python"},".pyi":{"image":"python"},".pyw":{"image":"python"},".tac":{"image":"python"},".wsgi":{"image":"python"},".xpy":{"image":"python"},".rpy":{"image":"python"},"/\\\\.?(pypirc|pythonrc|python-venv)$/i":{"image":"python"},"/^(SConstruct|SConscript)$/":{"image":"python"},"/^(Snakefile|WATCHLISTS)$/":{"image":"python"},"/^wscript$/":{"image":"python"},"/\\\\.(r|Rprofile|rsx|rd)$/i":{"image":"r"},"/\\\\.(rb|ru|ruby|erb|gemspec|god|mspec|pluginspec|podspec|rabl|rake|opal)$/i":{"image":"ruby"},"/^\\\\.?(irbrc|gemrc|pryrc|ruby-(gemset|version))$/i":{"image":"ruby"},"/^(Appraisals|(Rake|[bB]uild|Cap|Danger|Deliver|Fast|Guard|Jar|Maven|Pod|Puppet|Snap)file(\\\\.lock)?)$/":{"image":"ruby"},"/\\\\.(jbuilder|rbuild|rb[wx]|builder)$/i":{"image":"ruby"},"/^rails$/":{"image":"ruby"},".watchr":{"image":"ruby"},".rs":{"image":"rust"},"/\\\\.(sc|scala)$/i":{"image":"scala"},"/\\\\.(sh|rc|bats|bash|tool|install|command)$/i":{"image":"shell"},"/^(\\\\.?bash(rc|[-_]?(profile|login|logout|history|prompt))|_osc|config|install-sh|PKGBUILD)$/i":{"image":"shell"},"/\\\\.(ksh|mksh|pdksh)$/i":{"image":"shell"},".sh-session":{"image":"shell"},"/\\\\.zsh(-theme|_history)?$|^\\\\.?(antigen|zpreztorc|zlogin|zlogout|zprofile|zshenv|zshrc)$/i":{"image":"shell"},"/\\\\.fish$|^\\\\.fishrc$/i":{"image":"shell"},"/^\\\\.?(login|profile)$/":{"image":"shell"},".inputrc":{"image":"shell"},".tmux":{"image":"shell"},"/^(configure|config\\\\.(guess|rpath|status|sub)|depcomp|libtool|compile)$/":{"image":"shell"},"/^\\\\/(private\\\\/)?etc\\\\/([^\\\\/]+\\\\/)*(profile$|nanorc$|rc\\\\.|csh\\\\.)/i":{"image":"shell"},"/^\\\\.?cshrc$/i":{"image":"shell"},".profile":{"image":"shell"},".tcsh":{"image":"shell"},".csh":{"image":"shell"},"/\\\\.(my)?sql$/i":{"image":"sql"},".ddl":{"image":"sql"},".udf":{"image":"sql"},".hql":{"image":"sql"},".viw":{"image":"sql"},".prc":{"image":"sql"},".cql":{"image":"sql"},".db2":{"image":"sql"},".svg":{"image":"svg"},".svelte":{"image":"svelte"},".swift":{"image":"swift"},".tex":{"image":"tex"},".ltx":{"image":"tex"},".aux":{"image":"tex"},".sty":{"image":"tex"},".dtx":{"image":"tex"},".cls":{"image":"tex"},".ins":{"image":"tex"},".lbx":{"image":"tex"},".mkiv":{"image":"tex"},".mkvi":{"image":"tex"},".mkii":{"image":"tex"},".texi":{"image":"tex"},"heroku.yml":{"image":"heroku"},"/^hyphen(ex)?\\\\.(cs|den|det|fr|sv|us)$/":{"image":"tex"},".toml":{"image":"toml"},"/.*\\\\.d\\\\.ts/i":{"image":"typescript-def"},".ts":{"image":"ts"},".tsx":{"image":"tsx"},".twig":{"image":"twig"},"/\\\\.te?xt$/i":{"image":"text"},".rtf":{"image":"text"},"/\\\\.i?nfo$/i":{"image":"text"},".msg":{"image":"text"},"/\\\\.(utxt|utf8)$/i":{"image":"text"},".vb":{"image":"vb"},".vbs":{"image":"vb"},".vba":{"image":"vba"},".vbhtml":{"image":"vb"},".vbproj":{"image":"vb"},".vcxproj":{"image":"vcxproj"},".vscodeignore":{"image":"vscodeignore"},".vue":{"image":"vue"},".xml":{"image":"xml"},"/\\\\.ya?ml$/i":{"image":"yaml"},"/^yarn(\\\\.lock)?$/i":{"image":"yarn"},".yarnrc":{"image":"yarn"},"/\\\\.babelrc/i":{"image":"babel"},".bat":{"image":"bat"},".batch":{"image":"bat"},".cmd":{"image":"bat"},"/\\\\.(exe|com|msi)$/i":{"image":"bat"},".reg":{"image":"bat"},".wat":{"image":"wasm"},".wast":{"image":"wasm"},".wasm":{"image":"wasm"},".nix":{"image":"nix"},".re":{"image":"reasonml"},".marko":{"image":"marko"},".pony":{"image":"ponylang"}}}')},function(module,exports,__webpack_require__){"use strict";const termux=__webpack_require__(54),linux=__webpack_require__(84),macos=__webpack_require__(85),windows=__webpack_require__(86),platformLib=(()=>{switch(process.platform){case"darwin":return macos;case"win32":return windows;case"android":if("/data/data/com.termux/files/usr"!==process.env.PREFIX)throw new Error("You need to install Termux for this module to work on Android: https://termux.com");return termux;default:return linux}})();exports.write=async text=>{if("string"!=typeof text)throw new TypeError(`Expected a string, got ${typeof text}`);await platformLib.copy({input:text})},exports.read=async()=>platformLib.paste({stripEof:!1}),exports.writeSync=text=>{if("string"!=typeof text)throw new TypeError(`Expected a string, got ${typeof text}`);platformLib.copySync({input:text})},exports.readSync=()=>platformLib.pasteSync({stripEof:!1}).stdout},function(module,exports,__webpack_require__){"use strict";const execa=__webpack_require__(10),handler=error=>{if("ENOENT"===error.code)throw new Error("Couldn't find the termux-api scripts. You can install them with: apt install termux-api");throw error};module.exports={copy:async options=>{try{await execa("termux-clipboard-set",options)}catch(error){handler(error)}},paste:async options=>{try{return await execa.stdout("termux-clipboard-get",options)}catch(error){handler(error)}},copySync:options=>{try{execa.sync("termux-clipboard-set",options)}catch(error){handler(error)}},pasteSync:options=>{try{return execa.sync("termux-clipboard-get",options)}catch(error){handler(error)}}}},function(module,exports,__webpack_require__){"use strict";const cp=__webpack_require__(14),parse=__webpack_require__(56),enoent=__webpack_require__(68);function spawn(command,args,options){const parsed=parse(command,args,options),spawned=cp.spawn(parsed.command,parsed.args,parsed.options);return enoent.hookChildProcess(spawned,parsed),spawned}module.exports=spawn,module.exports.spawn=spawn,module.exports.sync=function spawnSync(command,args,options){const parsed=parse(command,args,options),result=cp.spawnSync(parsed.command,parsed.args,parsed.options);return result.error=result.error||enoent.verifyENOENTSync(result.status,parsed),result},module.exports._parse=parse,module.exports._enoent=enoent},function(module,exports,__webpack_require__){"use strict";const path=__webpack_require__(1),niceTry=__webpack_require__(57),resolveCommand=__webpack_require__(58),escape=__webpack_require__(63),readShebang=__webpack_require__(64),semver=__webpack_require__(67),isWin="win32"===process.platform,isExecutableRegExp=/\.(?:com|exe)$/i,isCmdShimRegExp=/node_modules[\\\/].bin[\\\/][^\\\/]+\.cmd$/i,supportsShellOption=niceTry(()=>semver.satisfies(process.version,"^4.8.0 || ^5.7.0 || >= 6.0.0",!0))||!1;function parseNonShell(parsed){if(!isWin)return parsed;const commandFile=function detectShebang(parsed){parsed.file=resolveCommand(parsed);const shebang=parsed.file&&readShebang(parsed.file);return shebang?(parsed.args.unshift(parsed.file),parsed.command=shebang,resolveCommand(parsed)):parsed.file}(parsed),needsShell=!isExecutableRegExp.test(commandFile);if(parsed.options.forceShell||needsShell){const needsDoubleEscapeMetaChars=isCmdShimRegExp.test(commandFile);parsed.command=path.normalize(parsed.command),parsed.command=escape.command(parsed.command),parsed.args=parsed.args.map(arg=>escape.argument(arg,needsDoubleEscapeMetaChars));const shellCommand=[parsed.command].concat(parsed.args).join(" ");parsed.args=["/d","/s","/c",`"${shellCommand}"`],parsed.command=process.env.comspec||"cmd.exe",parsed.options.windowsVerbatimArguments=!0}return parsed}module.exports=function parse(command,args,options){args&&!Array.isArray(args)&&(options=args,args=null);const parsed={command,args:args=args?args.slice(0):[],options:options=Object.assign({},options),file:void 0,original:{command,args}};return options.shell?function parseShell(parsed){if(supportsShellOption)return parsed;const shellCommand=[parsed.command].concat(parsed.args).join(" ");return isWin?(parsed.command="string"==typeof parsed.options.shell?parsed.options.shell:process.env.comspec||"cmd.exe",parsed.args=["/d","/s","/c",`"${shellCommand}"`],parsed.options.windowsVerbatimArguments=!0):("string"==typeof parsed.options.shell?parsed.command=parsed.options.shell:"android"===process.platform?parsed.command="/system/bin/sh":parsed.command="/bin/sh",parsed.args=["-c",shellCommand]),parsed}(parsed):parseNonShell(parsed)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(fn){try{return fn()}catch(e){}}},function(module,exports,__webpack_require__){"use strict";const path=__webpack_require__(1),which=__webpack_require__(59),pathKey=__webpack_require__(28)();function resolveCommandAttempt(parsed,withoutPathExt){const cwd=process.cwd(),hasCustomCwd=null!=parsed.options.cwd;if(hasCustomCwd)try{process.chdir(parsed.options.cwd)}catch(err){}let resolved;try{resolved=which.sync(parsed.command,{path:(parsed.options.env||process.env)[pathKey],pathExt:withoutPathExt?path.delimiter:void 0})}catch(e){}finally{process.chdir(cwd)}return resolved&&(resolved=path.resolve(hasCustomCwd?parsed.options.cwd:"",resolved)),resolved}module.exports=function resolveCommand(parsed){return resolveCommandAttempt(parsed)||resolveCommandAttempt(parsed,!0)}},function(module,exports,__webpack_require__){module.exports=which,which.sync=function whichSync(cmd,opt){for(var info=getPathInfo(cmd,opt=opt||{}),pathEnv=info.env,pathExt=info.ext,pathExtExe=info.extExe,found=[],i=0,l=pathEnv.length;i<l;i++){var pathPart=pathEnv[i];'"'===pathPart.charAt(0)&&'"'===pathPart.slice(-1)&&(pathPart=pathPart.slice(1,-1));var p=path.join(pathPart,cmd);!pathPart&&/^\.[\\\/]/.test(cmd)&&(p=cmd.slice(0,2)+p);for(var j=0,ll=pathExt.length;j<ll;j++){var cur=p+pathExt[j];try{if(isexe.sync(cur,{pathExt:pathExtExe})){if(!opt.all)return cur;found.push(cur)}}catch(ex){}}}if(opt.all&&found.length)return found;if(opt.nothrow)return null;throw getNotFoundError(cmd)};var isWindows="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,path=__webpack_require__(1),COLON=isWindows?";":":",isexe=__webpack_require__(60);function getNotFoundError(cmd){var er=new Error("not found: "+cmd);return er.code="ENOENT",er}function getPathInfo(cmd,opt){var colon=opt.colon||COLON,pathEnv=opt.path||process.env.PATH||"",pathExt=[""];pathEnv=pathEnv.split(colon);var pathExtExe="";return isWindows&&(pathEnv.unshift(process.cwd()),pathExt=(pathExtExe=opt.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(colon),-1!==cmd.indexOf(".")&&""!==pathExt[0]&&pathExt.unshift("")),(cmd.match(/\//)||isWindows&&cmd.match(/\\/))&&(pathEnv=[""]),{env:pathEnv,ext:pathExt,extExe:pathExtExe}}function which(cmd,opt,cb){"function"==typeof opt&&(cb=opt,opt={});var info=getPathInfo(cmd,opt),pathEnv=info.env,pathExt=info.ext,pathExtExe=info.extExe,found=[];!function F(i,l){if(i===l)return opt.all&&found.length?cb(null,found):cb(getNotFoundError(cmd));var pathPart=pathEnv[i];'"'===pathPart.charAt(0)&&'"'===pathPart.slice(-1)&&(pathPart=pathPart.slice(1,-1));var p=path.join(pathPart,cmd);!pathPart&&/^\.[\\\/]/.test(cmd)&&(p=cmd.slice(0,2)+p),function E(ii,ll){if(ii===ll)return F(i+1,l);var ext=pathExt[ii];isexe(p+ext,{pathExt:pathExtExe},function(er,is){if(!er&&is){if(!opt.all)return cb(null,p+ext);found.push(p+ext)}return E(ii+1,ll)})}(0,pathExt.length)}(0,pathEnv.length)}},function(module,exports,__webpack_require__){var core;__webpack_require__(2);function isexe(path,options,cb){if("function"==typeof options&&(cb=options,options={}),!cb){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(resolve,reject){isexe(path,options||{},function(er,is){er?reject(er):resolve(is)})})}core(path,options||{},function(er,is){er&&("EACCES"===er.code||options&&options.ignoreErrors)&&(er=null,is=!1),cb(er,is)})}core="win32"===process.platform||global.TESTING_WINDOWS?__webpack_require__(61):__webpack_require__(62),module.exports=isexe,isexe.sync=function sync(path,options){try{return core.sync(path,options||{})}catch(er){if(options&&options.ignoreErrors||"EACCES"===er.code)return!1;throw er}}},function(module,exports,__webpack_require__){module.exports=isexe,isexe.sync=function sync(path,options){return checkStat(fs.statSync(path),path,options)};var fs=__webpack_require__(2);function checkStat(stat,path,options){return!(!stat.isSymbolicLink()&&!stat.isFile())&&function checkPathExt(path,options){var pathext=void 0!==options.pathExt?options.pathExt:process.env.PATHEXT;if(!pathext)return!0;if(-1!==(pathext=pathext.split(";")).indexOf(""))return!0;for(var i=0;i<pathext.length;i++){var p=pathext[i].toLowerCase();if(p&&path.substr(-p.length).toLowerCase()===p)return!0}return!1}(path,options)}function isexe(path,options,cb){fs.stat(path,function(er,stat){cb(er,!er&&checkStat(stat,path,options))})}},function(module,exports,__webpack_require__){module.exports=isexe,isexe.sync=function sync(path,options){return checkStat(fs.statSync(path),options)};var fs=__webpack_require__(2);function isexe(path,options,cb){fs.stat(path,function(er,stat){cb(er,!er&&checkStat(stat,options))})}function checkStat(stat,options){return stat.isFile()&&function checkMode(stat,options){var mod=stat.mode,uid=stat.uid,gid=stat.gid,myUid=void 0!==options.uid?options.uid:process.getuid&&process.getuid(),myGid=void 0!==options.gid?options.gid:process.getgid&&process.getgid(),u=parseInt("100",8),g=parseInt("010",8),o=parseInt("001",8),ug=u|g;return mod&o||mod&g&&gid===myGid||mod&u&&uid===myUid||mod&ug&&0===myUid}(stat,options)}},function(module,exports,__webpack_require__){"use strict";const metaCharsRegExp=/([()\][%!^"`<>&|;, *?])/g;module.exports.command=function escapeCommand(arg){return arg=arg.replace(metaCharsRegExp,"^$1")},module.exports.argument=function escapeArgument(arg,doubleEscapeMetaChars){return arg=(arg=`"${arg=(arg=(arg=`${arg}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(metaCharsRegExp,"^$1"),doubleEscapeMetaChars&&(arg=arg.replace(metaCharsRegExp,"^$1")),arg}},function(module,exports,__webpack_require__){"use strict";const fs=__webpack_require__(2),shebangCommand=__webpack_require__(65);module.exports=function readShebang(command){let buffer,fd;Buffer.alloc?buffer=Buffer.alloc(150):(buffer=new Buffer(150)).fill(0);try{fd=fs.openSync(command,"r"),fs.readSync(fd,buffer,0,150,0),fs.closeSync(fd)}catch(e){}return shebangCommand(buffer.toString())}},function(module,exports,__webpack_require__){"use strict";var shebangRegex=__webpack_require__(66);module.exports=function(str){var match=str.match(shebangRegex);if(!match)return null;var arr=match[0].replace(/#! ?/,"").split(" "),bin=arr[0].split("/").pop(),arg=arr[1];return"env"===bin?arg:bin+(arg?" "+arg:"")}},function(module,exports,__webpack_require__){"use strict";module.exports=/^#!.*/},function(module,exports){var debug;exports=module.exports=SemVer,debug="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var args=Array.prototype.slice.call(arguments,0);args.unshift("SEMVER"),console.log.apply(console,args)}:function(){},exports.SEMVER_SPEC_VERSION="2.0.0";var MAX_LENGTH=256,MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,re=exports.re=[],src=exports.src=[],R=0,NUMERICIDENTIFIER=R++;src[NUMERICIDENTIFIER]="0|[1-9]\\d*";var NUMERICIDENTIFIERLOOSE=R++;src[NUMERICIDENTIFIERLOOSE]="[0-9]+";var NONNUMERICIDENTIFIER=R++;src[NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var MAINVERSION=R++;src[MAINVERSION]="("+src[NUMERICIDENTIFIER]+")\\.("+src[NUMERICIDENTIFIER]+")\\.("+src[NUMERICIDENTIFIER]+")";var MAINVERSIONLOOSE=R++;src[MAINVERSIONLOOSE]="("+src[NUMERICIDENTIFIERLOOSE]+")\\.("+src[NUMERICIDENTIFIERLOOSE]+")\\.("+src[NUMERICIDENTIFIERLOOSE]+")";var PRERELEASEIDENTIFIER=R++;src[PRERELEASEIDENTIFIER]="(?:"+src[NUMERICIDENTIFIER]+"|"+src[NONNUMERICIDENTIFIER]+")";var PRERELEASEIDENTIFIERLOOSE=R++;src[PRERELEASEIDENTIFIERLOOSE]="(?:"+src[NUMERICIDENTIFIERLOOSE]+"|"+src[NONNUMERICIDENTIFIER]+")";var PRERELEASE=R++;src[PRERELEASE]="(?:-("+src[PRERELEASEIDENTIFIER]+"(?:\\."+src[PRERELEASEIDENTIFIER]+")*))";var PRERELEASELOOSE=R++;src[PRERELEASELOOSE]="(?:-?("+src[PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+src[PRERELEASEIDENTIFIERLOOSE]+")*))";var BUILDIDENTIFIER=R++;src[BUILDIDENTIFIER]="[0-9A-Za-z-]+";var BUILD=R++;src[BUILD]="(?:\\+("+src[BUILDIDENTIFIER]+"(?:\\."+src[BUILDIDENTIFIER]+")*))";var FULL=R++,FULLPLAIN="v?"+src[MAINVERSION]+src[PRERELEASE]+"?"+src[BUILD]+"?";src[FULL]="^"+FULLPLAIN+"$";var LOOSEPLAIN="[v=\\s]*"+src[MAINVERSIONLOOSE]+src[PRERELEASELOOSE]+"?"+src[BUILD]+"?",LOOSE=R++;src[LOOSE]="^"+LOOSEPLAIN+"$";var GTLT=R++;src[GTLT]="((?:<|>)?=?)";var XRANGEIDENTIFIERLOOSE=R++;src[XRANGEIDENTIFIERLOOSE]=src[NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";var XRANGEIDENTIFIER=R++;src[XRANGEIDENTIFIER]=src[NUMERICIDENTIFIER]+"|x|X|\\*";var XRANGEPLAIN=R++;src[XRANGEPLAIN]="[v=\\s]*("+src[XRANGEIDENTIFIER]+")(?:\\.("+src[XRANGEIDENTIFIER]+")(?:\\.("+src[XRANGEIDENTIFIER]+")(?:"+src[PRERELEASE]+")?"+src[BUILD]+"?)?)?";var XRANGEPLAINLOOSE=R++;src[XRANGEPLAINLOOSE]="[v=\\s]*("+src[XRANGEIDENTIFIERLOOSE]+")(?:\\.("+src[XRANGEIDENTIFIERLOOSE]+")(?:\\.("+src[XRANGEIDENTIFIERLOOSE]+")(?:"+src[PRERELEASELOOSE]+")?"+src[BUILD]+"?)?)?";var XRANGE=R++;src[XRANGE]="^"+src[GTLT]+"\\s*"+src[XRANGEPLAIN]+"$";var XRANGELOOSE=R++;src[XRANGELOOSE]="^"+src[GTLT]+"\\s*"+src[XRANGEPLAINLOOSE]+"$";var COERCE=R++;src[COERCE]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var LONETILDE=R++;src[LONETILDE]="(?:~>?)";var TILDETRIM=R++;src[TILDETRIM]="(\\s*)"+src[LONETILDE]+"\\s+",re[TILDETRIM]=new RegExp(src[TILDETRIM],"g");var TILDE=R++;src[TILDE]="^"+src[LONETILDE]+src[XRANGEPLAIN]+"$";var TILDELOOSE=R++;src[TILDELOOSE]="^"+src[LONETILDE]+src[XRANGEPLAINLOOSE]+"$";var LONECARET=R++;src[LONECARET]="(?:\\^)";var CARETTRIM=R++;src[CARETTRIM]="(\\s*)"+src[LONECARET]+"\\s+",re[CARETTRIM]=new RegExp(src[CARETTRIM],"g");var CARET=R++;src[CARET]="^"+src[LONECARET]+src[XRANGEPLAIN]+"$";var CARETLOOSE=R++;src[CARETLOOSE]="^"+src[LONECARET]+src[XRANGEPLAINLOOSE]+"$";var COMPARATORLOOSE=R++;src[COMPARATORLOOSE]="^"+src[GTLT]+"\\s*("+LOOSEPLAIN+")$|^$";var COMPARATOR=R++;src[COMPARATOR]="^"+src[GTLT]+"\\s*("+FULLPLAIN+")$|^$";var COMPARATORTRIM=R++;src[COMPARATORTRIM]="(\\s*)"+src[GTLT]+"\\s*("+LOOSEPLAIN+"|"+src[XRANGEPLAIN]+")",re[COMPARATORTRIM]=new RegExp(src[COMPARATORTRIM],"g");var HYPHENRANGE=R++;src[HYPHENRANGE]="^\\s*("+src[XRANGEPLAIN]+")\\s+-\\s+("+src[XRANGEPLAIN]+")\\s*$";var HYPHENRANGELOOSE=R++;src[HYPHENRANGELOOSE]="^\\s*("+src[XRANGEPLAINLOOSE]+")\\s+-\\s+("+src[XRANGEPLAINLOOSE]+")\\s*$";var STAR=R++;src[STAR]="(<|>)?=?\\s*\\*";for(var i=0;i<35;i++)debug(i,src[i]),re[i]||(re[i]=new RegExp(src[i]));function parse(version,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),version instanceof SemVer)return version;if("string"!=typeof version)return null;if(version.length>MAX_LENGTH)return null;if(!(options.loose?re[LOOSE]:re[FULL]).test(version))return null;try{return new SemVer(version,options)}catch(er){return null}}function SemVer(version,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),version instanceof SemVer){if(version.loose===options.loose)return version;version=version.version}else if("string"!=typeof version)throw new TypeError("Invalid Version: "+version);if(version.length>MAX_LENGTH)throw new TypeError("version is longer than "+MAX_LENGTH+" characters");if(!(this instanceof SemVer))return new SemVer(version,options);debug("SemVer",version,options),this.options=options,this.loose=!!options.loose;var m=version.trim().match(options.loose?re[LOOSE]:re[FULL]);if(!m)throw new TypeError("Invalid Version: "+version);if(this.raw=version,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(function(id){if(/^[0-9]+$/.test(id)){var num=+id;if(num>=0&&num<MAX_SAFE_INTEGER)return num}return id}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}exports.parse=parse,exports.valid=function valid(version,options){var v=parse(version,options);return v?v.version:null},exports.clean=function clean(version,options){var s=parse(version.trim().replace(/^[=v]+/,""),options);return s?s.version:null},exports.SemVer=SemVer,SemVer.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},SemVer.prototype.toString=function(){return this.version},SemVer.prototype.compare=function(other){return debug("SemVer.compare",this.version,this.options,other),other instanceof SemVer||(other=new SemVer(other,this.options)),this.compareMain(other)||this.comparePre(other)},SemVer.prototype.compareMain=function(other){return other instanceof SemVer||(other=new SemVer(other,this.options)),compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)},SemVer.prototype.comparePre=function(other){if(other instanceof SemVer||(other=new SemVer(other,this.options)),this.prerelease.length&&!other.prerelease.length)return-1;if(!this.prerelease.length&&other.prerelease.length)return 1;if(!this.prerelease.length&&!other.prerelease.length)return 0;var i=0;do{var a=this.prerelease[i],b=other.prerelease[i];if(debug("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return compareIdentifiers(a,b)}while(++i)},SemVer.prototype.inc=function(release,identifier){switch(release){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",identifier);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",identifier);break;case"prepatch":this.prerelease.length=0,this.inc("patch",identifier),this.inc("pre",identifier);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",identifier),this.inc("pre",identifier);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var i=this.prerelease.length;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);-1===i&&this.prerelease.push(0)}identifier&&(this.prerelease[0]===identifier?isNaN(this.prerelease[1])&&(this.prerelease=[identifier,0]):this.prerelease=[identifier,0]);break;default:throw new Error("invalid increment argument: "+release)}return this.format(),this.raw=this.version,this},exports.inc=function inc(version,release,loose,identifier){"string"==typeof loose&&(identifier=loose,loose=void 0);try{return new SemVer(version,loose).inc(release,identifier).version}catch(er){return null}},exports.diff=function diff(version1,version2){if(eq(version1,version2))return null;var v1=parse(version1),v2=parse(version2),prefix="";if(v1.prerelease.length||v2.prerelease.length){prefix="pre";var defaultResult="prerelease"}for(var key in v1)if(("major"===key||"minor"===key||"patch"===key)&&v1[key]!==v2[key])return prefix+key;return defaultResult},exports.compareIdentifiers=compareIdentifiers;var numeric=/^[0-9]+$/;function compareIdentifiers(a,b){var anum=numeric.test(a),bnum=numeric.test(b);return anum&&bnum&&(a=+a,b=+b),a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1}function compare(a,b,loose){return new SemVer(a,loose).compare(new SemVer(b,loose))}function gt(a,b,loose){return compare(a,b,loose)>0}function lt(a,b,loose){return compare(a,b,loose)<0}function eq(a,b,loose){return 0===compare(a,b,loose)}function neq(a,b,loose){return 0!==compare(a,b,loose)}function gte(a,b,loose){return compare(a,b,loose)>=0}function lte(a,b,loose){return compare(a,b,loose)<=0}function cmp(a,op,b,loose){switch(op){case"===":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a===b;case"!==":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError("Invalid operator: "+op)}}function Comparator(comp,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),comp instanceof Comparator){if(comp.loose===!!options.loose)return comp;comp=comp.value}if(!(this instanceof Comparator))return new Comparator(comp,options);debug("comparator",comp,options),this.options=options,this.loose=!!options.loose,this.parse(comp),this.semver===ANY?this.value="":this.value=this.operator+this.semver.version,debug("comp",this)}exports.rcompareIdentifiers=function rcompareIdentifiers(a,b){return compareIdentifiers(b,a)},exports.major=function major(a,loose){return new SemVer(a,loose).major},exports.minor=function minor(a,loose){return new SemVer(a,loose).minor},exports.patch=function patch(a,loose){return new SemVer(a,loose).patch},exports.compare=compare,exports.compareLoose=function compareLoose(a,b){return compare(a,b,!0)},exports.rcompare=function rcompare(a,b,loose){return compare(b,a,loose)},exports.sort=function sort(list,loose){return list.sort(function(a,b){return exports.compare(a,b,loose)})},exports.rsort=function rsort(list,loose){return list.sort(function(a,b){return exports.rcompare(a,b,loose)})},exports.gt=gt,exports.lt=lt,exports.eq=eq,exports.neq=neq,exports.gte=gte,exports.lte=lte,exports.cmp=cmp,exports.Comparator=Comparator;var ANY={};function Range(range,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),range instanceof Range)return range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease?range:new Range(range.raw,options);if(range instanceof Comparator)return new Range(range.value,options);if(!(this instanceof Range))return new Range(range,options);if(this.options=options,this.loose=!!options.loose,this.includePrerelease=!!options.includePrerelease,this.raw=range,this.set=range.split(/\s*\|\|\s*/).map(function(range){return this.parseRange(range.trim())},this).filter(function(c){return c.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+range);this.format()}function isX(id){return!id||"x"===id.toLowerCase()||"*"===id}function hyphenReplace($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb){return((from=isX(fM)?"":isX(fm)?">="+fM+".0.0":isX(fp)?">="+fM+"."+fm+".0":">="+from)+" "+(to=isX(tM)?"":isX(tm)?"<"+(+tM+1)+".0.0":isX(tp)?"<"+tM+"."+(+tm+1)+".0":tpr?"<="+tM+"."+tm+"."+tp+"-"+tpr:"<="+to)).trim()}function testSet(set,version,options){for(var i=0;i<set.length;i++)if(!set[i].test(version))return!1;if(version.prerelease.length&&!options.includePrerelease){for(i=0;i<set.length;i++)if(debug(set[i].semver),set[i].semver!==ANY&&set[i].semver.prerelease.length>0){var allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch)return!0}return!1}return!0}function satisfies(version,range,options){try{range=new Range(range,options)}catch(er){return!1}return range.test(version)}function outside(version,range,hilo,options){var gtfn,ltefn,ltfn,comp,ecomp;switch(version=new SemVer(version,options),range=new Range(range,options),hilo){case">":gtfn=gt,ltefn=lte,ltfn=lt,comp=">",ecomp=">=";break;case"<":gtfn=lt,ltefn=gte,ltfn=gt,comp="<",ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(version,range,options))return!1;for(var i=0;i<range.set.length;++i){var comparators=range.set[i],high=null,low=null;if(comparators.forEach(function(comparator){comparator.semver===ANY&&(comparator=new Comparator(">=0.0.0")),high=high||comparator,low=low||comparator,gtfn(comparator.semver,high.semver,options)?high=comparator:ltfn(comparator.semver,low.semver,options)&&(low=comparator)}),high.operator===comp||high.operator===ecomp)return!1;if((!low.operator||low.operator===comp)&&ltefn(version,low.semver))return!1;if(low.operator===ecomp&&ltfn(version,low.semver))return!1}return!0}Comparator.prototype.parse=function(comp){var r=this.options.loose?re[COMPARATORLOOSE]:re[COMPARATOR],m=comp.match(r);if(!m)throw new TypeError("Invalid comparator: "+comp);this.operator=m[1],"="===this.operator&&(this.operator=""),m[2]?this.semver=new SemVer(m[2],this.options.loose):this.semver=ANY},Comparator.prototype.toString=function(){return this.value},Comparator.prototype.test=function(version){return debug("Comparator.test",version,this.options.loose),this.semver===ANY||("string"==typeof version&&(version=new SemVer(version,this.options)),cmp(version,this.operator,this.semver,this.options))},Comparator.prototype.intersects=function(comp,options){if(!(comp instanceof Comparator))throw new TypeError("a Comparator is required");var rangeTmp;if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),""===this.operator)return rangeTmp=new Range(comp.value,options),satisfies(this.value,rangeTmp,options);if(""===comp.operator)return rangeTmp=new Range(this.value,options),satisfies(comp.semver,rangeTmp,options);var sameDirectionIncreasing=!(">="!==this.operator&&">"!==this.operator||">="!==comp.operator&&">"!==comp.operator),sameDirectionDecreasing=!("<="!==this.operator&&"<"!==this.operator||"<="!==comp.operator&&"<"!==comp.operator),sameSemVer=this.semver.version===comp.semver.version,differentDirectionsInclusive=!(">="!==this.operator&&"<="!==this.operator||">="!==comp.operator&&"<="!==comp.operator),oppositeDirectionsLessThan=cmp(this.semver,"<",comp.semver,options)&&(">="===this.operator||">"===this.operator)&&("<="===comp.operator||"<"===comp.operator),oppositeDirectionsGreaterThan=cmp(this.semver,">",comp.semver,options)&&("<="===this.operator||"<"===this.operator)&&(">="===comp.operator||">"===comp.operator);return sameDirectionIncreasing||sameDirectionDecreasing||sameSemVer&&differentDirectionsInclusive||oppositeDirectionsLessThan||oppositeDirectionsGreaterThan},exports.Range=Range,Range.prototype.format=function(){return this.range=this.set.map(function(comps){return comps.join(" ").trim()}).join("||").trim(),this.range},Range.prototype.toString=function(){return this.range},Range.prototype.parseRange=function(range){var loose=this.options.loose;range=range.trim();var hr=loose?re[HYPHENRANGELOOSE]:re[HYPHENRANGE];range=range.replace(hr,hyphenReplace),debug("hyphen replace",range),range=range.replace(re[COMPARATORTRIM],"$1$2$3"),debug("comparator trim",range,re[COMPARATORTRIM]),range=(range=(range=range.replace(re[TILDETRIM],"$1~")).replace(re[CARETTRIM],"$1^")).split(/\s+/).join(" ");var compRe=loose?re[COMPARATORLOOSE]:re[COMPARATOR],set=range.split(" ").map(function(comp){return function parseComparator(comp,options){return debug("comp",comp,options),comp=function replaceCarets(comp,options){return comp.trim().split(/\s+/).map(function(comp){return function replaceCaret(comp,options){debug("caret",comp,options);var r=options.loose?re[CARETLOOSE]:re[CARET];return comp.replace(r,function(_,M,m,p,pr){var ret;return debug("caret",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">="+M+".0.0 <"+(+M+1)+".0.0":isX(p)?ret="0"===M?">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0":">="+M+"."+m+".0 <"+(+M+1)+".0.0":pr?(debug("replaceCaret pr",pr),ret="0"===M?"0"===m?">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+m+"."+(+p+1):">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+(+m+1)+".0":">="+M+"."+m+"."+p+"-"+pr+" <"+(+M+1)+".0.0"):(debug("no pr"),ret="0"===M?"0"===m?">="+M+"."+m+"."+p+" <"+M+"."+m+"."+(+p+1):">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0":">="+M+"."+m+"."+p+" <"+(+M+1)+".0.0"),debug("caret return",ret),ret})}(comp,options)}).join(" ")}(comp,options),debug("caret",comp),comp=function replaceTildes(comp,options){return comp.trim().split(/\s+/).map(function(comp){return function replaceTilde(comp,options){var r=options.loose?re[TILDELOOSE]:re[TILDE];return comp.replace(r,function(_,M,m,p,pr){var ret;return debug("tilde",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">="+M+".0.0 <"+(+M+1)+".0.0":isX(p)?ret=">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0":pr?(debug("replaceTilde pr",pr),ret=">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+(+m+1)+".0"):ret=">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0",debug("tilde return",ret),ret})}(comp,options)}).join(" ")}(comp,options),debug("tildes",comp),comp=function replaceXRanges(comp,options){return debug("replaceXRanges",comp,options),comp.split(/\s+/).map(function(comp){return function replaceXRange(comp,options){comp=comp.trim();var r=options.loose?re[XRANGELOOSE]:re[XRANGE];return comp.replace(r,function(ret,gtlt,M,m,p,pr){debug("xRange",comp,ret,gtlt,M,m,p,pr);var xM=isX(M),xm=xM||isX(m),xp=xm||isX(p);return"="===gtlt&&xp&&(gtlt=""),xM?ret=">"===gtlt||"<"===gtlt?"<0.0.0":"*":gtlt&&xp?(xm&&(m=0),p=0,">"===gtlt?(gtlt=">=",xm?(M=+M+1,m=0,p=0):(m=+m+1,p=0)):"<="===gtlt&&(gtlt="<",xm?M=+M+1:m=+m+1),ret=gtlt+M+"."+m+"."+p):xm?ret=">="+M+".0.0 <"+(+M+1)+".0.0":xp&&(ret=">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0"),debug("xRange return",ret),ret})}(comp,options)}).join(" ")}(comp,options),debug("xrange",comp),comp=function replaceStars(comp,options){return debug("replaceStars",comp,options),comp.trim().replace(re[STAR],"")}(comp,options),debug("stars",comp),comp}(comp,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(set=set.filter(function(comp){return!!comp.match(compRe)})),set=set.map(function(comp){return new Comparator(comp,this.options)},this)},Range.prototype.intersects=function(range,options){if(!(range instanceof Range))throw new TypeError("a Range is required");return this.set.some(function(thisComparators){return thisComparators.every(function(thisComparator){return range.set.some(function(rangeComparators){return rangeComparators.every(function(rangeComparator){return thisComparator.intersects(rangeComparator,options)})})})})},exports.toComparators=function toComparators(range,options){return new Range(range,options).set.map(function(comp){return comp.map(function(c){return c.value}).join(" ").trim().split(" ")})},Range.prototype.test=function(version){if(!version)return!1;"string"==typeof version&&(version=new SemVer(version,this.options));for(var i=0;i<this.set.length;i++)if(testSet(this.set[i],version,this.options))return!0;return!1},exports.satisfies=satisfies,exports.maxSatisfying=function maxSatisfying(versions,range,options){var max=null,maxSV=null;try{var rangeObj=new Range(range,options)}catch(er){return null}return versions.forEach(function(v){rangeObj.test(v)&&(max&&-1!==maxSV.compare(v)||(maxSV=new SemVer(max=v,options)))}),max},exports.minSatisfying=function minSatisfying(versions,range,options){var min=null,minSV=null;try{var rangeObj=new Range(range,options)}catch(er){return null}return versions.forEach(function(v){rangeObj.test(v)&&(min&&1!==minSV.compare(v)||(minSV=new SemVer(min=v,options)))}),min},exports.minVersion=function minVersion(range,loose){range=new Range(range,loose);var minver=new SemVer("0.0.0");if(range.test(minver))return minver;if(minver=new SemVer("0.0.0-0"),range.test(minver))return minver;minver=null;for(var i=0;i<range.set.length;++i){range.set[i].forEach(function(comparator){var compver=new SemVer(comparator.semver.version);switch(comparator.operator){case">":0===compver.prerelease.length?compver.patch++:compver.prerelease.push(0),compver.raw=compver.format();case"":case">=":minver&&!gt(minver,compver)||(minver=compver);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+comparator.operator)}})}if(minver&&range.test(minver))return minver;return null},exports.validRange=function validRange(range,options){try{return new Range(range,options).range||"*"}catch(er){return null}},exports.ltr=function ltr(version,range,options){return outside(version,range,"<",options)},exports.gtr=function gtr(version,range,options){return outside(version,range,">",options)},exports.outside=outside,exports.prerelease=function prerelease(version,options){var parsed=parse(version,options);return parsed&&parsed.prerelease.length?parsed.prerelease:null},exports.intersects=function intersects(r1,r2,options){return r1=new Range(r1,options),r2=new Range(r2,options),r1.intersects(r2)},exports.coerce=function coerce(version){if(version instanceof SemVer)return version;if("string"!=typeof version)return null;var match=version.match(re[COERCE]);if(null==match)return null;return parse(match[1]+"."+(match[2]||"0")+"."+(match[3]||"0"))}},function(module,exports,__webpack_require__){"use strict";const isWin="win32"===process.platform;function notFoundError(original,syscall){return Object.assign(new Error(`${syscall} ${original.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${syscall} ${original.command}`,path:original.command,spawnargs:original.args})}function verifyENOENT(status,parsed){return isWin&&1===status&&!parsed.file?notFoundError(parsed.original,"spawn"):null}module.exports={hookChildProcess:function hookChildProcess(cp,parsed){if(!isWin)return;const originalEmit=cp.emit;cp.emit=function(name,arg1){if("exit"===name){const err=verifyENOENT(arg1,parsed);if(err)return originalEmit.call(cp,"error",err)}return originalEmit.apply(cp,arguments)}},verifyENOENT,verifyENOENTSync:function verifyENOENTSync(status,parsed){return isWin&&1===status&&!parsed.file?notFoundError(parsed.original,"spawnSync"):null},notFoundError}},function(module,exports,__webpack_require__){"use strict";module.exports=function(x){var lf="string"==typeof x?"\n":"\n".charCodeAt(),cr="string"==typeof x?"\r":"\r".charCodeAt();return x[x.length-1]===lf&&(x=x.slice(0,x.length-1)),x[x.length-1]===cr&&(x=x.slice(0,x.length-1)),x}},function(module,exports,__webpack_require__){"use strict";const path=__webpack_require__(1),pathKey=__webpack_require__(28);module.exports=opts=>{let prev;opts=Object.assign({cwd:process.cwd(),path:process.env[pathKey()]},opts);let pth=path.resolve(opts.cwd);const ret=[];for(;prev!==pth;)ret.push(path.join(pth,"node_modules/.bin")),prev=pth,pth=path.resolve(pth,"..");return ret.push(path.dirname(process.execPath)),ret.concat(opts.path).join(path.delimiter)},module.exports.env=opts=>{opts=Object.assign({env:process.env},opts);const env=Object.assign({},opts.env),path=pathKey({env});return opts.path=env[path],env[path]=module.exports(opts),env}},function(module,exports,__webpack_require__){"use strict";var isStream=module.exports=function(stream){return null!==stream&&"object"==typeof stream&&"function"==typeof stream.pipe};isStream.writable=function(stream){return isStream(stream)&&!1!==stream.writable&&"function"==typeof stream._write&&"object"==typeof stream._writableState},isStream.readable=function(stream){return isStream(stream)&&!1!==stream.readable&&"function"==typeof stream._read&&"object"==typeof stream._readableState},isStream.duplex=function(stream){return isStream.writable(stream)&&isStream.readable(stream)},isStream.transform=function(stream){return isStream.duplex(stream)&&"function"==typeof stream._transform&&"object"==typeof stream._transformState}},function(module,exports,__webpack_require__){"use strict";const pump=__webpack_require__(73),bufferStream=__webpack_require__(76);class MaxBufferError extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}function getStream(inputStream,options){if(!inputStream)return Promise.reject(new Error("Expected a stream"));options=Object.assign({maxBuffer:1/0},options);const{maxBuffer}=options;let stream;return new Promise((resolve,reject)=>{const rejectPromise=error=>{error&&(error.bufferedData=stream.getBufferedValue()),reject(error)};(stream=pump(inputStream,bufferStream(options),error=>{error?rejectPromise(error):resolve()})).on("data",()=>{stream.getBufferedLength()>maxBuffer&&rejectPromise(new MaxBufferError)})}).then(()=>stream.getBufferedValue())}module.exports=getStream,module.exports.buffer=(stream,options)=>getStream(stream,Object.assign({},options,{encoding:"buffer"})),module.exports.array=(stream,options)=>getStream(stream,Object.assign({},options,{array:!0})),module.exports.MaxBufferError=MaxBufferError},function(module,exports,__webpack_require__){var once=__webpack_require__(29),eos=__webpack_require__(75),fs=__webpack_require__(2),noop=function(){},ancient=/^v?\.0/.test(process.version),isFn=function(fn){return"function"==typeof fn},destroyer=function(stream,reading,writing,callback){callback=once(callback);var closed=!1;stream.on("close",function(){closed=!0}),eos(stream,{readable:reading,writable:writing},function(err){if(err)return callback(err);closed=!0,callback()});var destroyed=!1;return function(err){if(!closed&&!destroyed)return destroyed=!0,function(stream){return!!ancient&&(!!fs&&((stream instanceof(fs.ReadStream||noop)||stream instanceof(fs.WriteStream||noop))&&isFn(stream.close)))}(stream)?stream.close(noop):function(stream){return stream.setHeader&&isFn(stream.abort)}(stream)?stream.abort():isFn(stream.destroy)?stream.destroy():void callback(err||new Error("stream was destroyed"))}},call=function(fn){fn()},pipe=function(from,to){return from.pipe(to)};module.exports=function(){var error,streams=Array.prototype.slice.call(arguments),callback=isFn(streams[streams.length-1]||noop)&&streams.pop()||noop;if(Array.isArray(streams[0])&&(streams=streams[0]),streams.length<2)throw new Error("pump requires two streams per minimum");var destroys=streams.map(function(stream,i){var reading=i<streams.length-1;return destroyer(stream,reading,i>0,function(err){error||(error=err),err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))})});return streams.reduce(pipe)}},function(module,exports){module.exports=function wrappy(fn,cb){if(fn&&cb)return wrappy(fn)(cb);if("function"!=typeof fn)throw new TypeError("need wrapper function");Object.keys(fn).forEach(function(k){wrapper[k]=fn[k]});return wrapper;function wrapper(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];var ret=fn.apply(this,args),cb=args[args.length-1];return"function"==typeof ret&&ret!==cb&&Object.keys(cb).forEach(function(k){ret[k]=cb[k]}),ret}}},function(module,exports,__webpack_require__){var once=__webpack_require__(29),noop=function(){},eos=function(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);opts||(opts={}),callback=once(callback||noop);var ws=stream._writableState,rs=stream._readableState,readable=opts.readable||!1!==opts.readable&&stream.readable,writable=opts.writable||!1!==opts.writable&&stream.writable,onlegacyfinish=function(){stream.writable||onfinish()},onfinish=function(){writable=!1,readable||callback.call(stream)},onend=function(){readable=!1,writable||callback.call(stream)},onexit=function(exitCode){callback.call(stream,exitCode?new Error("exited with error code: "+exitCode):null)},onerror=function(err){callback.call(stream,err)},onclose=function(){return(!readable||rs&&rs.ended)&&(!writable||ws&&ws.ended)?void 0:callback.call(stream,new Error("premature close"))},onrequest=function(){stream.req.on("finish",onfinish)};return!function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?writable&&!ws&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)):(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)),function(stream){return stream.stdio&&Array.isArray(stream.stdio)&&3===stream.stdio.length}(stream)&&stream.on("exit",onexit),stream.on("end",onend),stream.on("finish",onfinish),!1!==opts.error&&stream.on("error",onerror),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("exit",onexit),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}};module.exports=eos},function(module,exports,__webpack_require__){"use strict";const{PassThrough}=__webpack_require__(0);module.exports=options=>{options=Object.assign({},options);const{array}=options;let{encoding}=options;const buffer="buffer"===encoding;let objectMode=!1;array?objectMode=!(encoding||buffer):encoding=encoding||"utf8",buffer&&(encoding=null);let len=0;const ret=[],stream=new PassThrough({objectMode});return encoding&&stream.setEncoding(encoding),stream.on("data",chunk=>{ret.push(chunk),objectMode?len=ret.length:len+=chunk.length}),stream.getBufferedValue=()=>array?ret:buffer?Buffer.concat(ret,len):ret.join(""),stream.getBufferedLength=()=>len,stream}},function(module,exports,__webpack_require__){"use strict";module.exports=(promise,onFinally)=>(onFinally=onFinally||(()=>{}),promise.then(val=>new Promise(resolve=>{resolve(onFinally())}).then(()=>val),err=>new Promise(resolve=>{resolve(onFinally())}).then(()=>{throw err})))},function(module,exports,__webpack_require__){var emitter,assert=__webpack_require__(79),signals=__webpack_require__(80),EE=__webpack_require__(4);function unload(){loaded&&(loaded=!1,signals.forEach(function(sig){try{process.removeListener(sig,sigListeners[sig])}catch(er){}}),process.emit=originalProcessEmit,process.reallyExit=originalProcessReallyExit,emitter.count-=1)}function emit(event,code,signal){emitter.emitted[event]||(emitter.emitted[event]=!0,emitter.emit(event,code,signal))}"function"!=typeof EE&&(EE=EE.EventEmitter),process.__signal_exit_emitter__?emitter=process.__signal_exit_emitter__:((emitter=process.__signal_exit_emitter__=new EE).count=0,emitter.emitted={}),emitter.infinite||(emitter.setMaxListeners(1/0),emitter.infinite=!0),module.exports=function(cb,opts){assert.equal(typeof cb,"function","a callback must be provided for exit handler"),!1===loaded&&load();var ev="exit";opts&&opts.alwaysLast&&(ev="afterexit");return emitter.on(ev,cb),function(){emitter.removeListener(ev,cb),0===emitter.listeners("exit").length&&0===emitter.listeners("afterexit").length&&unload()}},module.exports.unload=unload;var sigListeners={};signals.forEach(function(sig){sigListeners[sig]=function listener(){process.listeners(sig).length===emitter.count&&(unload(),emit("exit",null,sig),emit("afterexit",null,sig),process.kill(process.pid,sig))}}),module.exports.signals=function(){return signals},module.exports.load=load;var loaded=!1;function load(){loaded||(loaded=!0,emitter.count+=1,signals=signals.filter(function(sig){try{return process.on(sig,sigListeners[sig]),!0}catch(er){return!1}}),process.emit=processEmit,process.reallyExit=processReallyExit)}var originalProcessReallyExit=process.reallyExit;function processReallyExit(code){process.exitCode=code||0,emit("exit",process.exitCode,null),emit("afterexit",process.exitCode,null),originalProcessReallyExit.call(process,process.exitCode)}var originalProcessEmit=process.emit;function processEmit(ev,arg){if("exit"===ev){void 0!==arg&&(process.exitCode=arg);var ret=originalProcessEmit.apply(this,arguments);return emit("exit",process.exitCode,null),emit("afterexit",process.exitCode,null),ret}return originalProcessEmit.apply(this,arguments)}},function(module,exports){module.exports=require("assert")},function(module,exports){module.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&module.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&module.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},function(module,exports,__webpack_require__){"use strict";const util=__webpack_require__(82);let uv;if("function"==typeof util.getSystemErrorName)module.exports=util.getSystemErrorName;else{try{if("function"!=typeof(uv=process.binding("uv")).errname)throw new TypeError("uv.errname is not a function")}catch(err){console.error("execa/lib/errname: unable to establish process.binding('uv')",err),uv=null}module.exports=code=>errname(uv,code)}function errname(uv,code){if(uv)return uv.errname(code);if(!(code<0))throw new Error("err >= 0");return`Unknown system error ${code}`}module.exports.__test__=errname},function(module,exports){module.exports=require("util")},function(module,exports,__webpack_require__){"use strict";const alias=["stdin","stdout","stderr"];module.exports=opts=>{if(!opts)return null;if(opts.stdio&&(opts=>alias.some(x=>Boolean(opts[x])))(opts))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${alias.map(x=>`\`${x}\``).join(", ")}`);if("string"==typeof opts.stdio)return opts.stdio;const stdio=opts.stdio||[];if(!Array.isArray(stdio))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof stdio}\``);const result=[],len=Math.max(stdio.length,alias.length);for(let i=0;i<len;i++){let value=null;void 0!==stdio[i]?value=stdio[i]:void 0!==opts[alias[i]]&&(value=opts[alias[i]]),result[i]=value}return result}},function(module,exports,__webpack_require__){"use strict";(function(__dirname){const path=__webpack_require__(1),execa=__webpack_require__(10),xselFallback=path.join(__dirname,"../fallbacks/linux/xsel"),copyArguments=["--clipboard","--input"],pasteArguments=["--clipboard","--output"],makeError=(xselError,fallbackError)=>{let error;return"ENOENT"===xselError.code?error=new Error("Couldn't find the `xsel` binary and fallback didn't work. On Debian/Ubuntu you can install xsel with: sudo apt install xsel"):(error=new Error("Both xsel and fallback failed")).xselError=xselError,error.fallbackError=fallbackError,error},xselWithFallback=async(argumentList,options)=>{try{return await execa.stdout("xsel",argumentList,options)}catch(xselError){try{return await execa.stdout(xselFallback,argumentList,options)}catch(fallbackError){throw makeError(xselError,fallbackError)}}},xselWithFallbackSync=(argumentList,options)=>{try{return execa.sync("xsel",argumentList,options)}catch(xselError){try{return execa.sync(xselFallback,argumentList,options)}catch(fallbackError){throw makeError(xselError,fallbackError)}}};module.exports={copy:async options=>{await xselWithFallback(copyArguments,options)},copySync:options=>{xselWithFallbackSync(copyArguments,options)},paste:options=>xselWithFallback(pasteArguments,options),pasteSync:options=>xselWithFallbackSync(pasteArguments,options)}}).call(this,"/")},function(module,exports,__webpack_require__){"use strict";const execa=__webpack_require__(10),env={...process.env,LC_CTYPE:"UTF-8"};module.exports={copy:async options=>execa("pbcopy",{...options,env}),paste:async options=>execa.stdout("pbpaste",{...options,env}),copySync:options=>execa.sync("pbcopy",{...options,env}),pasteSync:options=>execa.sync("pbpaste",{...options,env})}},function(module,exports,__webpack_require__){"use strict";(function(__dirname){const path=__webpack_require__(1),execa=__webpack_require__(10),windowBinaryPath="x64"===__webpack_require__(87)()?path.join(__dirname,"../fallbacks/windows/clipboard_x86_64.exe"):path.join(__dirname,"../fallbacks/windows/clipboard_i686.exe");module.exports={copy:async options=>execa(windowBinaryPath,["--copy"],options),paste:async options=>execa.stdout(windowBinaryPath,["--paste"],options),copySync:options=>execa.sync(windowBinaryPath,["--copy"],options),pasteSync:options=>execa.sync(windowBinaryPath,["--paste"],options)}}).call(this,"/")},function(module,exports,__webpack_require__){var cp=__webpack_require__(14),fs=__webpack_require__(2),path=__webpack_require__(1);module.exports=function arch(){if("x64"===process.arch)return"x64";if("darwin"===process.platform)return"x64";if("win32"===process.platform){var useEnv=!1;try{useEnv=!(!process.env.SYSTEMROOT||!fs.statSync(process.env.SYSTEMROOT))}catch(err){}var sysRoot=useEnv?process.env.SYSTEMROOT:"C:\\Windows",isWOW64=!1;try{isWOW64=!!fs.statSync(path.join(sysRoot,"sysnative"))}catch(err){}return isWOW64?"x64":"x86"}return"linux"===process.platform&&"64\n"===cp.execSync("getconf LONG_BIT",{encoding:"utf8"})?"x64":"x86"}}]);
//# sourceMappingURL=extension.js.map